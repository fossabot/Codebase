{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/unload/src/node.js"],"sourcesContent":["// set to true to log events\nconst DEBUG = false;\n\nfunction add(fn) {\n    process.on('exit', () => {\n        DEBUG && console.log('node: exit');\n        return fn();\n    });\n\n    /**\n     * on the following events,\n     * the process will not end if there are\n     * event-handlers attached,\n     * therefore we have to call process.exit()\n     */\n    process.on('beforeExit', () => {\n        DEBUG && console.log('node: beforeExit');\n        return fn().then(() => process.exit());\n    });\n    // catches ctrl+c event\n    process.on('SIGINT', () => {\n        DEBUG && console.log('node: SIGNINT');\n        return fn().then(() => process.exit());\n    });\n    // catches uncaught exceptions\n    process.on('uncaughtException', err => {\n        DEBUG && console.log('node: uncaughtException');\n        return fn()\n            .then(() => {\n                console.trace(err);\n                process.exit(1);\n            });\n    });\n}\n\nexport default {\n    add\n};\n"],"names":["DEBUG","add","fn","process","on","console","log","then","exit","err","trace"],"mappings":";;AAAA,EAA4B,AAA5B,0BAA4B;AAC5B,KAAK,CAACA,KAAK,GAAG,KAAK;SAEVC,GAAG,CAACC,EAAE,EAAE,CAAC;IACdC,OAAO,CAACC,EAAE,CAAC,CAAM,WAAQ,CAAC;QACtBJ,KAAK,IAAIK,OAAO,CAACC,GAAG,CAAC,CAAY;QACjC,MAAM,CAACJ,EAAE;IACb,CAAC;IAED,EAKG,AALH;;;;;KAKG,AALH,EAKG,CACHC,OAAO,CAACC,EAAE,CAAC,CAAY,iBAAQ,CAAC;QAC5BJ,KAAK,IAAIK,OAAO,CAACC,GAAG,CAAC,CAAkB;QACvC,MAAM,CAACJ,EAAE,GAAGK,IAAI,KAAOJ,OAAO,CAACK,IAAI;;IACvC,CAAC;IACD,EAAuB,AAAvB,qBAAuB;IACvBL,OAAO,CAACC,EAAE,CAAC,CAAQ,aAAQ,CAAC;QACxBJ,KAAK,IAAIK,OAAO,CAACC,GAAG,CAAC,CAAe;QACpC,MAAM,CAACJ,EAAE,GAAGK,IAAI,KAAOJ,OAAO,CAACK,IAAI;;IACvC,CAAC;IACD,EAA8B,AAA9B,4BAA8B;IAC9BL,OAAO,CAACC,EAAE,CAAC,CAAmB,qBAAEK,GAAG,GAAI,CAAC;QACpCT,KAAK,IAAIK,OAAO,CAACC,GAAG,CAAC,CAAyB;QAC9C,MAAM,CAACJ,EAAE,GACJK,IAAI,KAAO,CAAC;YACTF,OAAO,CAACK,KAAK,CAACD,GAAG;YACjBN,OAAO,CAACK,IAAI,CAAC,CAAC;QAClB,CAAC;IACT,CAAC;AACL,CAAC;eAEc,CAAC;IACZP,GAAG;AACP,CAAC"}