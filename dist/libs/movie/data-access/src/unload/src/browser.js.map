{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/unload/src/browser.js"],"sourcesContent":["/* global WorkerGlobalScope */\n\nfunction add(fn) {\n    if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {\n        // this is run inside of a webworker\n    } else {\n\n        /**\n         * if we are on react-native, there is no window.addEventListener\n         * @link https://github.com/pubkey/unload/issues/6\n         */\n        if (typeof window.addEventListener !== 'function') return;\n\n        /**\n         * for normal browser-windows, we use the beforeunload-event\n         */\n        window.addEventListener('beforeunload', () => {\n            fn();\n        }, true);\n\n        /**\n         * for iframes, we have to use the unload-event\n         * @link https://stackoverflow.com/q/47533670/3443137\n         */\n        window.addEventListener('unload', () => {\n            fn();\n        }, true);\n    }\n\n    /**\n     * TODO add fallback for safari-mobile\n     * @link https://stackoverflow.com/a/26193516/3443137\n     */\n}\n\nexport default {\n    add\n};"],"names":["add","fn","WorkerGlobalScope","self","window","addEventListener"],"mappings":";;AAAA,EAA8B,AAA9B,0BAA8B,AAA9B,EAA8B,UAErBA,GAAG,CAACC,EAAE,EAAE,CAAC;IACd,EAAE,EAAE,MAAM,CAACC,iBAAiB,KAAK,CAAU,aAAIC,IAAI,YAAYD,iBAAiB,EAAE,CAAC;IAC/E,EAAoC,AAApC,kCAAoC;IACxC,CAAC,MAAM,CAAC;QAEJ,EAGG,AAHH;;;SAGG,AAHH,EAGG,CACH,EAAE,EAAE,MAAM,CAACE,MAAM,CAACC,gBAAgB,KAAK,CAAU,WAAE,MAAM;QAEzD,EAEG,AAFH;;SAEG,AAFH,EAEG,CACHD,MAAM,CAACC,gBAAgB,CAAC,CAAc,mBAAQ,CAAC;YAC3CJ,EAAE;QACN,CAAC,EAAE,IAAI;QAEP,EAGG,AAHH;;;SAGG,AAHH,EAGG,CACHG,MAAM,CAACC,gBAAgB,CAAC,CAAQ,aAAQ,CAAC;YACrCJ,EAAE;QACN,CAAC,EAAE,IAAI;IACX,CAAC;AAED,EAGG,AAHH;;;KAGG,AAHH,EAGG,CACP,CAAC;eAEc,CAAC;IACZD,GAAG;AACP,CAAC"}