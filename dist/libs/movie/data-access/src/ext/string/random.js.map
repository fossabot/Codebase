{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/ext/string/random.js"],"sourcesContent":["\"use strict\";\n\nvar isObject            = require(\"type/object/is\")\n  , ensureNaturalNumber = require(\"type/natural-number/ensure\")\n  , ensureString        = require(\"type/string/ensure\");\n\nvar generated = Object.create(null), random = Math.random, uniqTryLimit = 100;\n\nvar getChunk = function () { return random().toString(36).slice(2); };\n\nvar getString = function (length, charset) {\n\tvar str;\n\tif (charset) {\n\t\tvar charsetLength = charset.length;\n\t\tstr = \"\";\n\t\tfor (var i = 0; i < length; ++i) {\n\t\t\tstr += charset.charAt(Math.floor(Math.random() * charsetLength));\n\t\t}\n\t\treturn str;\n\t}\n\tstr = getChunk();\n\tif (length === null) return str;\n\twhile (str.length < length) str += getChunk();\n\treturn str.slice(0, length);\n};\n\nmodule.exports = function (/* options */) {\n\tvar options = arguments[0];\n\tif (!isObject(options)) options = {};\n\tvar length = ensureNaturalNumber(options.length, { \"default\": 10 })\n\t  , isUnique = options.isUnique\n\t  , charset = ensureString(options.charset, { isOptional: true });\n\n\tvar str = getString(length, charset);\n\tif (isUnique) {\n\t\tvar count = 0;\n\t\twhile (generated[str]) {\n\t\t\tif (++count === uniqTryLimit) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Cannot generate random string.\\n\" +\n\t\t\t\t\t\t\"String.random is not designed to effectively generate many short and \" +\n\t\t\t\t\t\t\"unique random strings\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tstr = getString(length);\n\t\t}\n\t\tgenerated[str] = true;\n\t}\n\treturn str;\n};\n"],"names":["isObject","require","ensureNaturalNumber","ensureString","generated","Object","create","random","Math","uniqTryLimit","getChunk","toString","slice","getString","length","charset","str","charsetLength","i","charAt","floor","module","exports","options","arguments","isUnique","isOptional","count","Error"],"mappings":"AAAA,CAAY;AAEZ,GAAG,CAACA,QAAQ,GAAcC,OAAO,CAAC,CAAgB,kBAC9CC,mBAAmB,GAAGD,OAAO,CAAC,CAA4B,8BAC1DE,YAAY,GAAUF,OAAO,CAAC,CAAoB;AAEtD,GAAG,CAACG,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI,GAAGC,MAAM,GAAGC,IAAI,CAACD,MAAM,EAAEE,YAAY,GAAG,GAAG;AAE7E,GAAG,CAACC,QAAQ,GAAG,QAAQ,GAAI,CAAC;IAAC,MAAM,CAACH,MAAM,GAAGI,QAAQ,CAAC,EAAE,EAAEC,KAAK,CAAC,CAAC;AAAG,CAAC;AAErE,GAAG,CAACC,SAAS,GAAG,QAAQ,CAAEC,MAAM,EAAEC,OAAO,EAAE,CAAC;IAC3C,GAAG,CAACC,GAAG;IACP,EAAE,EAAED,OAAO,EAAE,CAAC;QACb,GAAG,CAACE,aAAa,GAAGF,OAAO,CAACD,MAAM;QAClCE,GAAG,GAAG,CAAE;QACR,GAAG,CAAE,GAAG,CAACE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,IAAII,CAAC,CAAE,CAAC;YACjCF,GAAG,IAAID,OAAO,CAACI,MAAM,CAACX,IAAI,CAACY,KAAK,CAACZ,IAAI,CAACD,MAAM,KAAKU,aAAa;QAC/D,CAAC;QACD,MAAM,CAACD,GAAG;IACX,CAAC;IACDA,GAAG,GAAGN,QAAQ;IACd,EAAE,EAAEI,MAAM,KAAK,IAAI,EAAE,MAAM,CAACE,GAAG;UACxBA,GAAG,CAACF,MAAM,GAAGA,MAAM,CAAEE,GAAG,IAAIN,QAAQ;IAC3C,MAAM,CAACM,GAAG,CAACJ,KAAK,CAAC,CAAC,EAAEE,MAAM;AAC3B,CAAC;AAEDO,MAAM,CAACC,OAAO,GAAG,QAAQ,GAAiB,CAAC;IAC1C,GAAG,CAACC,OAAO,GAAGC,SAAS,CAAC,CAAC;IACzB,EAAE,GAAGxB,QAAQ,CAACuB,OAAO,GAAGA,OAAO,GAAG,CAAC,CAAC;IACpC,GAAG,CAACT,MAAM,GAAGZ,mBAAmB,CAACqB,OAAO,CAACT,MAAM,EAAE,CAAC;QAAC,CAAS,UAAE,EAAE;IAAC,CAAC,GAC9DW,QAAQ,GAAGF,OAAO,CAACE,QAAQ,EAC3BV,OAAO,GAAGZ,YAAY,CAACoB,OAAO,CAACR,OAAO,EAAE,CAAC;QAACW,UAAU,EAAE,IAAI;IAAC,CAAC;IAEhE,GAAG,CAACV,GAAG,GAAGH,SAAS,CAACC,MAAM,EAAEC,OAAO;IACnC,EAAE,EAAEU,QAAQ,EAAE,CAAC;QACd,GAAG,CAACE,KAAK,GAAG,CAAC;cACNvB,SAAS,CAACY,GAAG,EAAG,CAAC;YACvB,EAAE,IAAIW,KAAK,KAAKlB,YAAY,EAAE,CAAC;gBAC9B,KAAK,CAAC,GAAG,CAACmB,KAAK,CACd,CAAkC,oCACjC,CAAuE,yEACvE,CAAuB;YAE1B,CAAC;YACDZ,GAAG,GAAGH,SAAS,CAACC,MAAM;QACvB,CAAC;QACDV,SAAS,CAACY,GAAG,IAAI,IAAI;IACtB,CAAC;IACD,MAAM,CAACA,GAAG;AACX,CAAC"}