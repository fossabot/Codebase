{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/broadcast-channel/src/util.js"],"sourcesContent":["/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n    if (obj &&\n        typeof obj.then === 'function') {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nexport function sleep(time) {\n    if (!time) time = 0;\n    return new Promise(res => setTimeout(res, time));\n}\n\nexport function randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * https://stackoverflow.com/a/8084248\n */\nexport function randomToken() {\n    return Math.random().toString(36).substring(2);\n}\n\n\nlet lastMs = 0;\nlet additional = 0;\n\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\nexport function microSeconds() {\n    const ms = new Date().getTime();\n    if (ms === lastMs) {\n        additional++;\n        return ms * 1000 + additional;\n    } else {\n        lastMs = ms;\n        additional = 0;\n        return ms * 1000;\n    }\n}\n\n/**\n * copied from the 'detect-node' npm module\n * We cannot use the module directly because it causes problems with rollup\n * @link https://github.com/iliakan/detect-node/blob/master/index.js\n */\nexport const isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n"],"names":["isPromise","sleep","randomInt","randomToken","microSeconds","obj","then","time","Promise","res","setTimeout","min","max","Math","floor","random","toString","substring","lastMs","additional","ms","Date","getTime","isNode","Object","prototype","call","process"],"mappings":";QAGgBA,SAAS,GAATA,SAAS;QASTC,KAAK,GAALA,KAAK;QAKLC,SAAS,GAATA,SAAS;QAOTC,WAAW,GAAXA,WAAW;QAeXC,YAAY,GAAZA,YAAY;;SApCZJ,SAAS,CAACK,GAAG,EAAE,CAAC;IAC5B,EAAE,EAAEA,GAAG,IACH,MAAM,CAACA,GAAG,CAACC,IAAI,KAAK,CAAU,WAAE,CAAC;QACjC,MAAM,CAAC,IAAI;IACf,CAAC,MAAM,CAAC;QACJ,MAAM,CAAC,KAAK;IAChB,CAAC;AACL,CAAC;SAEeL,KAAK,CAACM,IAAI,EAAE,CAAC;IACzB,EAAE,GAAGA,IAAI,EAAEA,IAAI,GAAG,CAAC;IACnB,MAAM,CAAC,GAAG,CAACC,OAAO,EAACC,GAAG,GAAIC,UAAU,CAACD,GAAG,EAAEF,IAAI;;AAClD,CAAC;SAEeL,SAAS,CAACS,GAAG,EAAEC,GAAG,EAAE,CAAC;IACjC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,MAAMH,GAAG,GAAGD,GAAG,GAAG,CAAC,IAAIA,GAAG;AAC3D,CAAC;SAKeR,WAAW,GAAG,CAAC;IAC3B,MAAM,CAACU,IAAI,CAACE,MAAM,GAAGC,QAAQ,CAAC,EAAE,EAAEC,SAAS,CAAC,CAAC;AACjD,CAAC;AAGD,GAAG,CAACC,MAAM,GAAG,CAAC;AACd,GAAG,CAACC,UAAU,GAAG,CAAC;SASFf,YAAY,GAAG,CAAC;IAC5B,KAAK,CAACgB,EAAE,GAAG,GAAG,CAACC,IAAI,GAAGC,OAAO;IAC7B,EAAE,EAAEF,EAAE,KAAKF,MAAM,EAAE,CAAC;QAChBC,UAAU;QACV,MAAM,CAACC,EAAE,GAAG,IAAI,GAAGD,UAAU;IACjC,CAAC,MAAM,CAAC;QACJD,MAAM,GAAGE,EAAE;QACXD,UAAU,GAAG,CAAC;QACd,MAAM,CAACC,EAAE,GAAG,IAAI;IACpB,CAAC;AACL,CAAC;AAOM,KAAK,CAACG,MAAM,GAAGC,MAAM,CAACC,SAAS,CAACT,QAAQ,CAACU,IAAI,CAAC,MAAM,CAACC,OAAO,KAAK,CAAW,aAAGA,OAAO,GAAG,CAAC,MAAM,CAAkB;QAA5GJ,MAAM,GAANA,MAAM"}