{"version":3,"sources":["../../../../../../../../../libs/movie/data-access/node_modules/broadcast-channel/dist/lib/methods/simulate.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.close = close;\nexports.postMessage = postMessage;\nexports.onMessage = onMessage;\nexports.canBeUsed = canBeUsed;\nexports.averageResponseTime = averageResponseTime;\nexports[\"default\"] = exports.type = exports.microSeconds = void 0;\n\nvar _util = require(\"../util\");\n\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar type = 'simulate';\nexports.type = type;\nvar SIMULATE_CHANNELS = new Set();\n\nfunction create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\n\nfunction close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\n\nfunction postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\n\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\n\nfunction canBeUsed() {\n  return true;\n}\n\nfunction averageResponseTime() {\n  return 5;\n}\n\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;"],"names":["Object","defineProperty","exports","value","create","close","postMessage","onMessage","canBeUsed","averageResponseTime","type","microSeconds","_util","require","SIMULATE_CHANNELS","Set","channelName","state","name","messagesCallback","add","channelState","messageJson","Promise","res","setTimeout","channelArray","Array","from","filter","channel","forEach","fn","_default"],"mappings":"AAAA,CAAY;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,CAAY,aAAE,CAAC;IAC5CC,KAAK,EAAE,IAAI;AACb,CAAC;AACDD,OAAO,CAACE,MAAM,GAAGA,MAAM;AACvBF,OAAO,CAACG,KAAK,GAAGA,KAAK;AACrBH,OAAO,CAACI,WAAW,GAAGA,WAAW;AACjCJ,OAAO,CAACK,SAAS,GAAGA,SAAS;AAC7BL,OAAO,CAACM,SAAS,GAAGA,SAAS;AAC7BN,OAAO,CAACO,mBAAmB,GAAGA,mBAAmB;AACjDP,OAAO,CAAC,CAAS,YAAIA,OAAO,CAACQ,IAAI,GAAGR,OAAO,CAACS,YAAY,GAAG,IAAI,CAAC,CAAC;AAEjE,GAAG,CAACC,KAAK,GAAGC,OAAO,CAAC,CAAS;AAE7B,GAAG,CAACF,YAAY,GAAGC,KAAK,CAACD,YAAY;AACrCT,OAAO,CAACS,YAAY,GAAGA,YAAY;AACnC,GAAG,CAACD,IAAI,GAAG,CAAU;AACrBR,OAAO,CAACQ,IAAI,GAAGA,IAAI;AACnB,GAAG,CAACI,iBAAiB,GAAG,GAAG,CAACC,GAAG;SAEtBX,MAAM,CAACY,WAAW,EAAE,CAAC;IAC5B,GAAG,CAACC,KAAK,GAAG,CAAC;QACXC,IAAI,EAAEF,WAAW;QACjBG,gBAAgB,EAAE,IAAI;IACxB,CAAC;IACDL,iBAAiB,CAACM,GAAG,CAACH,KAAK;IAC3B,MAAM,CAACA,KAAK;AACd,CAAC;SAEQZ,KAAK,CAACgB,YAAY,EAAE,CAAC;IAC5BP,iBAAiB,CAAC,CAAQ,SAAEO,YAAY;AAC1C,CAAC;SAEQf,WAAW,CAACe,YAAY,EAAEC,WAAW,EAAE,CAAC;IAC/C,MAAM,CAAC,GAAG,CAACC,OAAO,CAAC,QAAQ,CAAEC,GAAG,EAAE,CAAC;QACjC,MAAM,CAACC,UAAU,CAAC,QAAQ,GAAI,CAAC;YAC7B,GAAG,CAACC,YAAY,GAAGC,KAAK,CAACC,IAAI,CAACd,iBAAiB;YAC/CY,YAAY,CAACG,MAAM,CAAC,QAAQ,CAAEC,OAAO,EAAE,CAAC;gBACtC,MAAM,CAACA,OAAO,CAACZ,IAAI,KAAKG,YAAY,CAACH,IAAI;YAC3C,CAAC,EAAEW,MAAM,CAAC,QAAQ,CAAEC,OAAO,EAAE,CAAC;gBAC5B,MAAM,CAACA,OAAO,KAAKT,YAAY;YACjC,CAAC,EAAEQ,MAAM,CAAC,QAAQ,CAAEC,OAAO,EAAE,CAAC;gBAC5B,MAAM,GAAGA,OAAO,CAACX,gBAAgB;YACnC,CAAC,EAAEY,OAAO,CAAC,QAAQ,CAAED,OAAO,EAAE,CAAC;gBAC7B,MAAM,CAACA,OAAO,CAACX,gBAAgB,CAACG,WAAW;YAC7C,CAAC;YACDE,GAAG;QACL,CAAC,EAAE,CAAC;IACN,CAAC;AACH,CAAC;SAEQjB,SAAS,CAACc,YAAY,EAAEW,EAAE,EAAE,CAAC;IACpCX,YAAY,CAACF,gBAAgB,GAAGa,EAAE;AACpC,CAAC;SAEQxB,SAAS,GAAG,CAAC;IACpB,MAAM,CAAC,IAAI;AACb,CAAC;SAEQC,mBAAmB,GAAG,CAAC;IAC9B,MAAM,CAAC,CAAC;AACV,CAAC;AAED,GAAG,CAACwB,QAAQ,GAAG,CAAC;IACd7B,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAEA,KAAK;IACZE,SAAS,EAAEA,SAAS;IACpBD,WAAW,EAAEA,WAAW;IACxBE,SAAS,EAAEA,SAAS;IACpBE,IAAI,EAAEA,IAAI;IACVD,mBAAmB,EAAEA,mBAAmB;IACxCE,YAAY,EAAEA,YAAY;AAC5B,CAAC;AACDT,OAAO,CAAC,CAAS,YAAI+B,QAAQ"}