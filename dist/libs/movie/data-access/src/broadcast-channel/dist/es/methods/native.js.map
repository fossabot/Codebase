{"version":3,"sources":["../../../../../../../../../libs/movie/data-access/node_modules/broadcast-channel/dist/es/methods/native.js"],"sourcesContent":["import { microSeconds as micro, isNode } from '../util';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return Promise.resolve();\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (isNode && typeof window === 'undefined') return false;\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else return false;\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};"],"names":["create","close","postMessage","onMessage","canBeUsed","averageResponseTime","microSeconds","micro","type","channelName","state","messagesCallback","bc","BroadcastChannel","subFns","onmessage","msg","data","channelState","messageJson","Promise","resolve","err","reject","fn","isNode","window","_pubkey","Error"],"mappings":";QAGgBA,MAAM,GAANA,MAAM;QAgBNC,KAAK,GAALA,KAAK;QAILC,WAAW,GAAXA,WAAW;QAQXC,SAAS,GAATA,SAAS;QAGTC,SAAS,GAATA,SAAS;QAeTC,mBAAmB,GAAnBA,mBAAmB;;AAjDW,GAAS,CAAT,KAAS;AAChD,GAAG,CAACC,YAAY,GAAGC,KAAK;QAApBD,YAAY,GAAZA,YAAY;AAChB,GAAG,CAACE,IAAI,GAAG,CAAQ;QAAfA,IAAI,GAAJA,IAAI;SACCR,MAAM,CAACS,WAAW,EAAE,CAAC;IACnC,GAAG,CAACC,KAAK,GAAG,CAAC;QACXC,gBAAgB,EAAE,IAAI;QACtBC,EAAE,EAAE,GAAG,CAACC,gBAAgB,CAACJ,WAAW;QACpCK,MAAM,EAAE,CAAC,CAAC,AAAC,CAAsB,AAAtB,EAAsB,AAAtB,oBAAsB;IAEnC,CAAC;IAEDJ,KAAK,CAACE,EAAE,CAACG,SAAS,GAAG,QAAQ,CAAEC,GAAG,EAAE,CAAC;QACnC,EAAE,EAAEN,KAAK,CAACC,gBAAgB,EAAE,CAAC;YAC3BD,KAAK,CAACC,gBAAgB,CAACK,GAAG,CAACC,IAAI;QACjC,CAAC;IACH,CAAC;IAED,MAAM,CAACP,KAAK;AACd,CAAC;SACeT,KAAK,CAACiB,YAAY,EAAE,CAAC;IACnCA,YAAY,CAACN,EAAE,CAACX,KAAK;IACrBiB,YAAY,CAACJ,MAAM,GAAG,CAAC,CAAC;AAC1B,CAAC;SACeZ,WAAW,CAACgB,YAAY,EAAEC,WAAW,EAAE,CAAC;IACtD,GAAG,CAAC,CAAC;QACHD,YAAY,CAACN,EAAE,CAACV,WAAW,CAACiB,WAAW,EAAE,KAAK;QAC9C,MAAM,CAACC,OAAO,CAACC,OAAO;IACxB,CAAC,CAAC,KAAK,EAAEC,GAAG,EAAE,CAAC;QACb,MAAM,CAACF,OAAO,CAACG,MAAM,CAACD,GAAG;IAC3B,CAAC;AACH,CAAC;SACenB,SAAS,CAACe,YAAY,EAAEM,EAAE,EAAE,CAAC;IAC3CN,YAAY,CAACP,gBAAgB,GAAGa,EAAE;AACpC,CAAC;SACepB,SAAS,GAAG,CAAC;IAC3B,EAGG,AAHH;;;GAGG,AAHH,EAGG,CACH,EAAE,EAAEqB,KAAM,WAAI,MAAM,CAACC,MAAM,KAAK,CAAW,YAAE,MAAM,CAAC,KAAK;IAEzD,EAAE,EAAE,MAAM,CAACb,gBAAgB,KAAK,CAAU,WAAE,CAAC;QAC3C,EAAE,EAAEA,gBAAgB,CAACc,OAAO,EAAE,CAAC;YAC7B,KAAK,CAAC,GAAG,CAACC,KAAK,CAAC,CAAqG;QACvH,CAAC;QAED,MAAM,CAAC,IAAI;IACb,CAAC,MAAM,MAAM,CAAC,KAAK;AACrB,CAAC;SACevB,mBAAmB,GAAG,CAAC;IACrC,MAAM,CAAC,GAAG;AACZ,CAAC;eACc,CAAC;IACdL,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAEA,KAAK;IACZE,SAAS,EAAEA,SAAS;IACpBD,WAAW,EAAEA,WAAW;IACxBE,SAAS,EAAEA,SAAS;IACpBI,IAAI,EAAEA,IAAI;IACVH,mBAAmB,EAAEA,mBAAmB;IACxCC,YAAY,EAAEA,YAAY;AAC5B,CAAC"}