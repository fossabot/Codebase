{"version":3,"sources":["../../../../../../../../libs/movie/data-access/node_modules/broadcast-channel/dist/es/leader-election.js"],"sourcesContent":["import { sleep, randomToken } from './util.js';\nimport unload from 'unload';\n\nvar LeaderElection = function LeaderElection(channel, options) {\n  this._channel = channel;\n  this._options = options;\n  this.isLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n  this._isApl = false; // _isApplying\n\n  this._reApply = false; // things to clean up\n\n  this._unl = []; // _unloads\n\n  this._lstns = []; // _listeners\n\n  this._invs = []; // _intervals\n\n  this._dpL = function () {}; // onduplicate listener\n\n\n  this._dpLC = false; // true when onduplicate called\n};\n\nLeaderElection.prototype = {\n  applyOnce: function applyOnce() {\n    var _this = this;\n\n    if (this.isLeader) return Promise.resolve(false);\n    if (this.isDead) return Promise.resolve(false); // do nothing if already running\n\n    if (this._isApl) {\n      this._reApply = true;\n      return Promise.resolve(false);\n    }\n\n    this._isApl = true;\n    var stopCriteria = false;\n    var recieved = [];\n\n    var handleMessage = function handleMessage(msg) {\n      if (msg.context === 'leader' && msg.token != _this.token) {\n        recieved.push(msg);\n\n        if (msg.action === 'apply') {\n          // other is applying\n          if (msg.token > _this.token) {\n            // other has higher token, stop applying\n            stopCriteria = true;\n          }\n        }\n\n        if (msg.action === 'tell') {\n          // other is already leader\n          stopCriteria = true;\n        }\n      }\n    };\n\n    this._channel.addEventListener('internal', handleMessage);\n\n    var ret = _sendMessage(this, 'apply') // send out that this one is applying\n    .then(function () {\n      return sleep(_this._options.responseTime);\n    }) // let others time to respond\n    .then(function () {\n      if (stopCriteria) return Promise.reject(new Error());else return _sendMessage(_this, 'apply');\n    }).then(function () {\n      return sleep(_this._options.responseTime);\n    }) // let others time to respond\n    .then(function () {\n      if (stopCriteria) return Promise.reject(new Error());else return _sendMessage(_this);\n    }).then(function () {\n      return beLeader(_this);\n    }) // no one disagreed -> this one is now leader\n    .then(function () {\n      return true;\n    })[\"catch\"](function () {\n      return false;\n    }) // apply not successfull\n    .then(function (success) {\n      _this._channel.removeEventListener('internal', handleMessage);\n\n      _this._isApl = false;\n\n      if (!success && _this._reApply) {\n        _this._reApply = false;\n        return _this.applyOnce();\n      } else return success;\n    });\n\n    return ret;\n  },\n  awaitLeadership: function awaitLeadership() {\n    if (\n    /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n\n    return this._aLP;\n  },\n\n  set onduplicate(fn) {\n    this._dpL = fn;\n  },\n\n  die: function die() {\n    var _this2 = this;\n\n    if (this.isDead) return;\n    this.isDead = true;\n\n    this._lstns.forEach(function (listener) {\n      return _this2._channel.removeEventListener('internal', listener);\n    });\n\n    this._invs.forEach(function (interval) {\n      return clearInterval(interval);\n    });\n\n    this._unl.forEach(function (uFn) {\n      uFn.remove();\n    });\n\n    return _sendMessage(this, 'death');\n  }\n};\n\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) return Promise.resolve();\n  return new Promise(function (res) {\n    var resolved = false;\n\n    function finish() {\n      if (resolved) {\n        return;\n      }\n\n      resolved = true;\n      clearInterval(interval);\n\n      leaderElector._channel.removeEventListener('internal', whenDeathListener);\n\n      res(true);\n    } // try once now\n\n\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) {\n        finish();\n      }\n    }); // try on fallbackInterval\n\n    var interval = setInterval(function () {\n      leaderElector.applyOnce().then(function () {\n        if (leaderElector.isLeader) {\n          finish();\n        }\n      });\n    }, leaderElector._options.fallbackInterval);\n\n    leaderElector._invs.push(interval); // try when other leader dies\n\n\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) finish();\n        });\n      }\n    };\n\n    leaderElector._channel.addEventListener('internal', whenDeathListener);\n\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\n/**\n * sends and internal message over the broadcast-channel\n */\n\n\nfunction _sendMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector._channel.postInternal(msgJson);\n}\n\nexport function beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  var unloadFn = unload.add(function () {\n    return leaderElector.die();\n  });\n\n  leaderElector._unl.push(unloadFn);\n\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell');\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._dpLC) {\n      /**\n       * another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       * @link https://github.com/pubkey/broadcast-channel/issues/414\n       * @link https://github.com/pubkey/broadcast-channel/issues/385\n       */\n      leaderElector._dpLC = true;\n\n      leaderElector._dpL(); // message the lib user so the app can handle the problem\n\n\n      _sendMessage(leaderElector, 'tell'); // ensure other leader also knows the problem\n\n    }\n  };\n\n  leaderElector._channel.addEventListener('internal', isLeaderListener);\n\n  leaderElector._lstns.push(isLeaderListener);\n\n  return _sendMessage(leaderElector, 'tell');\n}\n\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n\n  return options;\n}\n\nexport function createLeaderElection(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = new LeaderElection(channel, options);\n\n  channel._befC.push(function () {\n    return elector.die();\n  });\n\n  channel._leaderElector = elector;\n  return elector;\n}"],"names":["beLeader","createLeaderElection","LeaderElection","channel","options","_channel","_options","isLeader","isDead","token","randomToken","_isApl","_reApply","_unl","_lstns","_invs","_dpL","_dpLC","prototype","applyOnce","_this","Promise","resolve","stopCriteria","recieved","handleMessage","msg","context","push","action","addEventListener","ret","_sendMessage","then","sleep","responseTime","reject","Error","success","removeEventListener","awaitLeadership","_aLP","_awaitLeadershipOnce","onduplicate","fn","die","_this2","forEach","listener","interval","clearInterval","uFn","remove","leaderElector","res","resolved","finish","whenDeathListener","setInterval","fallbackInterval","msgJson","postInternal","unloadFn","unload","add","isLeaderListener","fillOptionsWithDefaults","JSON","parse","stringify","method","averageResponseTime","_leaderElector","elector","_befC"],"mappings":"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"}