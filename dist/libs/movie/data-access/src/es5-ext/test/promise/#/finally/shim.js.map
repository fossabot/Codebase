{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/es5-ext/test/promise/#/finally/shim.js"],"sourcesContent":["\"use strict\";\n\nvar microtaskDelay = require(\"../../../../function/#/microtask-delay\");\n\nif (typeof Promise !== \"function\") global.Promise = require(\"plain-promise\");\n\nmodule.exports = function (t, a) {\n\treturn {\n\t\tSuccess: function (d) {\n\t\t\tvar invoked;\n\t\t\tt.call(Promise.resolve(\"foo\"), function () {\n\t\t\t\tinvoked = true;\n\t\t\t\treturn \"bar\";\n\t\t\t}).then(\n\t\t\t\tmicrotaskDelay.call(function (result) {\n\t\t\t\t\ta(result, \"foo\");\n\t\t\t\t\ta(invoked, true);\n\t\t\t\t\td();\n\t\t\t\t}, microtaskDelay.call(d))\n\t\t\t);\n\t\t},\n\t\tFailure: function (d) {\n\t\t\tvar invoked;\n\t\t\tvar error = new Error(\"Some error\");\n\t\t\tt.call(Promise.reject(error), function () {\n\t\t\t\tinvoked = true;\n\t\t\t\treturn \"bar\";\n\t\t\t}).then(\n\t\t\t\tmicrotaskDelay.call(function () {\n\t\t\t\t\ta.never();\n\t\t\t\t\td();\n\t\t\t\t}),\n\t\t\t\tmicrotaskDelay.call(function (result) {\n\t\t\t\t\ta(result, error);\n\t\t\t\t\ta(invoked, true);\n\t\t\t\t\td();\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tSuccessFinallyError: function (d) {\n\t\t\tvar invoked, finallyError = new Error(\"Finally error\");\n\t\t\tt.call(Promise.resolve(\"foo\"), function () {\n\t\t\t\tinvoked = true;\n\t\t\t\tthrow finallyError;\n\t\t\t}).then(\n\t\t\t\tmicrotaskDelay.call(function () {\n\t\t\t\t\ta.never();\n\t\t\t\t\td();\n\t\t\t\t}),\n\t\t\t\tmicrotaskDelay.call(function (result) {\n\t\t\t\t\ta(result, finallyError);\n\t\t\t\t\ta(invoked, true);\n\t\t\t\t\td();\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tFailureFinallyError: function (d) {\n\t\t\tvar invoked, finallyError = new Error(\"Finally error\");\n\t\t\tt.call(Promise.reject(new Error(\"Some error\")), function () {\n\t\t\t\tinvoked = true;\n\t\t\t\tthrow finallyError;\n\t\t\t}).then(\n\t\t\t\tmicrotaskDelay.call(function () {\n\t\t\t\t\ta.never();\n\t\t\t\t\td();\n\t\t\t\t}),\n\t\t\t\tmicrotaskDelay.call(function (result) {\n\t\t\t\t\ta(result, finallyError);\n\t\t\t\t\ta(invoked, true);\n\t\t\t\t\td();\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n};\n"],"names":["microtaskDelay","require","Promise","global","module","exports","t","a","Success","d","invoked","call","resolve","then","result","Failure","error","Error","reject","never","SuccessFinallyError","finallyError","FailureFinallyError"],"mappings":"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"}