{"version":3,"sources":["../../../../../../libs/movie/data-access/node_modules/inflight/inflight.js"],"sourcesContent":["var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n"],"names":["wrappy","require","reqs","Object","create","once","module","exports","inflight","key","cb","push","makeres","RES","cbs","len","length","args","slice","arguments","i","apply","splice","process","nextTick","array"],"mappings":";AAAA,GAAG,CAACA,MAAM,GAAGC,OAAO,CAAC,CAAQ;AAC7B,GAAG,CAACC,IAAI,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI;AAC7B,GAAG,CAACC,IAAI,GAAGJ,OAAO,CAAC,CAAM;AAEzBK,MAAM,CAACC,OAAO,GAAGP,MAAM,CAACQ,QAAQ;SAEvBA,QAAQ,CAAEC,GAAG,EAAEC,EAAE,EAAE,CAAC;IAC3B,EAAE,EAAER,IAAI,CAACO,GAAG,GAAG,CAAC;QACdP,IAAI,CAACO,GAAG,EAAEE,IAAI,CAACD,EAAE;QACjB,MAAM,CAAC,IAAI;IACb,CAAC,MAAM,CAAC;QACNR,IAAI,CAACO,GAAG,IAAI,CAACC;YAAAA,EAAE;QAAA,CAAC;QAChB,MAAM,CAACE,OAAO,CAACH,GAAG;IACpB,CAAC;AACH,CAAC;SAEQG,OAAO,CAAEH,GAAG,EAAE,CAAC;IACtB,MAAM,CAACJ,IAAI,CAAC,QAAQ,CAACQ,GAAG,GAAI,CAAC;QAC3B,GAAG,CAACC,GAAG,GAAGZ,IAAI,CAACO,GAAG;QAClB,GAAG,CAACM,GAAG,GAAGD,GAAG,CAACE,MAAM;QACpB,GAAG,CAACC,IAAI,GAAGC,KAAK,CAACC,SAAS;QAE1B,EAAmE,AAAnE,iEAAmE;QACnE,EAAgE,AAAhE,8DAAgE;QAChE,EAA+D,AAA/D,6DAA+D;QAC/D,EAAqE,AAArE,mEAAqE;QACrE,EAA+C,AAA/C,6CAA+C;QAC/C,EAAqE,AAArE,mEAAqE;QACrE,GAAG,CAAC,CAAC;YACH,GAAG,CAAE,GAAG,CAACC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,GAAG,EAAEK,CAAC,GAAI,CAAC;gBAC7BN,GAAG,CAACM,CAAC,EAAEC,KAAK,CAAC,IAAI,EAAEJ,IAAI;YACzB,CAAC;QACH,CAAC,QAAS,CAAC;YACT,EAAE,EAAEH,GAAG,CAACE,MAAM,GAAGD,GAAG,EAAE,CAAC;gBACrB,EAA6B,AAA7B,2BAA6B;gBAC7B,EAAgD,AAAhD,8CAAgD;gBAChDD,GAAG,CAACQ,MAAM,CAAC,CAAC,EAAEP,GAAG;gBACjBQ,OAAO,CAACC,QAAQ,CAAC,QAAQ,GAAI,CAAC;oBAC5BX,GAAG,CAACQ,KAAK,CAAC,IAAI,EAAEJ,IAAI;gBACtB,CAAC;YACH,CAAC,MAAM,CAAC;gBACN,MAAM,CAACf,IAAI,CAACO,GAAG;YACjB,CAAC;QACH,CAAC;IACH,CAAC;AACH,CAAC;SAEQS,KAAK,CAAED,IAAI,EAAE,CAAC;IACrB,GAAG,CAACD,MAAM,GAAGC,IAAI,CAACD,MAAM;IACxB,GAAG,CAACS,KAAK,GAAG,CAAC,CAAC;IAEd,GAAG,CAAE,GAAG,CAACL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,EAAEI,CAAC,GAAIK,KAAK,CAACL,CAAC,IAAIH,IAAI,CAACG,CAAC;IAClD,MAAM,CAACK,KAAK;AACd,CAAC"}