{"version":3,"sources":["../../../../../../../../../libs/movie/data-access/node_modules/@supabase/gotrue-js/dist/main/GoTrueClient.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst GoTrueApi_1 = __importDefault(require(\"./GoTrueApi\"));\nconst helpers_1 = require(\"./lib/helpers\");\nconst constants_1 = require(\"./lib/constants\");\nconst polyfills_1 = require(\"./lib/polyfills\");\n(0, polyfills_1.polyfillGlobalThis)(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: constants_1.GOTRUE_URL,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: constants_1.DEFAULT_HEADERS,\n};\nclass GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param options.url The URL of the GoTrue server.\n     * @param options.headers Any additional headers to send to the GoTrue server.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.cookieOptions\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(options) {\n        this.stateChangeEmitters = new Map();\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.currentUser = null;\n        this.currentSession = null;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.persistSession = settings.persistSession;\n        this.multiTab = settings.multiTab;\n        this.localStorage = settings.localStorage || globalThis.localStorage;\n        this.api = new GoTrueApi_1.default({\n            url: settings.url,\n            headers: settings.headers,\n            cookieOptions: settings.cookieOptions,\n            fetch: settings.fetch,\n        });\n        this._recoverSession();\n        this._recoverAndRefresh();\n        this._listenForMultiTabEvents();\n        if (settings.detectSessionInUrl && (0, helpers_1.isBrowser)() && !!(0, helpers_1.getParameterByName)('access_token')) {\n            // Handle the OAuth redirect\n            this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n                if (error) {\n                    console.error('Error getting session from URL.', error);\n                }\n            });\n        }\n    }\n    /**\n     * Creates a new user.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param password The user's password.\n     * @param phone The user's phone number.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata.\n     */\n    signUp({ email, password, phone }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = phone && password\n                    ? yield this.api.signUpWithPhone(phone, password, {\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    })\n                    : yield this.api.signUpWithEmail(email, password, {\n                        redirectTo: options.redirectTo,\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    });\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on sign up.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in an existing user, or login via a third-party provider.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param password The user's password.\n     * @param refreshToken A valid refresh token that was returned on login.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    signIn({ email, phone, password, refreshToken, provider, oidc }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                if (email && !password) {\n                    const { error } = yield this.api.sendMagicLinkEmail(email, {\n                        redirectTo: options.redirectTo,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (email && password) {\n                    return this._handleEmailSignIn(email, password, {\n                        redirectTo: options.redirectTo,\n                    });\n                }\n                if (phone && !password) {\n                    const { error } = yield this.api.sendMobileOTP(phone, {\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (phone && password) {\n                    return this._handlePhoneSignIn(phone, password);\n                }\n                if (refreshToken) {\n                    // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n                    const { error } = yield this._callRefreshToken(refreshToken);\n                    if (error)\n                        throw error;\n                    return {\n                        user: this.currentUser,\n                        session: this.currentSession,\n                        error: null,\n                    };\n                }\n                if (provider) {\n                    return this._handleProviderSignIn(provider, {\n                        redirectTo: options.redirectTo,\n                        scopes: options.scopes,\n                    });\n                }\n                if (oidc) {\n                    return this._handleOpenIDConnectSignIn(oidc);\n                }\n                throw new Error(`You must provide either an email, phone number, a third-party provider or OpenID Connect.`);\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in a user given a User supplied OTP received via mobile.\n     * @param phone The user's phone number.\n     * @param token The user's password.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP({ phone, token }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = yield this.api.verifyMobileOTP(phone, token, options);\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on token verification.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n     *\n     * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n     */\n    user() {\n        return this.currentUser;\n    }\n    /**\n     * Returns the session data, if there is an active session.\n     */\n    session() {\n        return this.currentSession;\n    }\n    /**\n     * Force refreshes the session including the user data in case it was updated in a different session.\n     */\n    refreshSession() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                // currentSession and currentUser will be updated to latest on _callRefreshToken\n                const { error } = yield this._callRefreshToken();\n                if (error)\n                    throw error;\n                return { data: this.currentSession, user: this.currentUser, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates user data, if there is a logged in user.\n     */\n    update(attributes) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                const { user, error } = yield this.api.updateUser(this.currentSession.access_token, attributes);\n                if (error)\n                    throw error;\n                if (!user)\n                    throw Error('Invalid user data.');\n                const session = Object.assign(Object.assign({}, this.currentSession), { user });\n                this._saveSession(session);\n                this._notifyAllSubscribers('USER_UPDATED');\n                return { data: user, user, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sets the session data from refresh_token and returns current Session and Error\n     * @param refresh_token a JWT token\n     */\n    setSession(refresh_token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error) {\n                    return { session: null, error: error };\n                }\n                this._saveSession(data);\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { session: data, error: null };\n            }\n            catch (e) {\n                return { error: e, session: null };\n            }\n        });\n    }\n    /**\n     * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n     * @param access_token a jwt access token\n     */\n    setAuth(access_token) {\n        this.currentSession = Object.assign(Object.assign({}, this.currentSession), { access_token, token_type: 'bearer', user: null });\n        return this.currentSession;\n    }\n    /**\n     * Gets the session data from a URL string\n     * @param options.storeSession Optionally store the session in the browser\n     */\n    getSessionFromUrl(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!(0, helpers_1.isBrowser)())\n                    throw new Error('No browser detected.');\n                const error_description = (0, helpers_1.getParameterByName)('error_description');\n                if (error_description)\n                    throw new Error(error_description);\n                const provider_token = (0, helpers_1.getParameterByName)('provider_token');\n                const access_token = (0, helpers_1.getParameterByName)('access_token');\n                if (!access_token)\n                    throw new Error('No access_token detected.');\n                const expires_in = (0, helpers_1.getParameterByName)('expires_in');\n                if (!expires_in)\n                    throw new Error('No expires_in detected.');\n                const refresh_token = (0, helpers_1.getParameterByName)('refresh_token');\n                if (!refresh_token)\n                    throw new Error('No refresh_token detected.');\n                const token_type = (0, helpers_1.getParameterByName)('token_type');\n                if (!token_type)\n                    throw new Error('No token_type detected.');\n                const timeNow = Math.round(Date.now() / 1000);\n                const expires_at = timeNow + parseInt(expires_in);\n                const { user, error } = yield this.api.getUser(access_token);\n                if (error)\n                    throw error;\n                const session = {\n                    provider_token,\n                    access_token,\n                    expires_in: parseInt(expires_in),\n                    expires_at,\n                    refresh_token,\n                    token_type,\n                    user: user,\n                };\n                if (options === null || options === void 0 ? void 0 : options.storeSession) {\n                    this._saveSession(session);\n                    const recoveryMode = (0, helpers_1.getParameterByName)('type');\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    if (recoveryMode === 'recovery') {\n                        this._notifyAllSubscribers('PASSWORD_RECOVERY');\n                    }\n                }\n                // Remove tokens from URL\n                window.location.hash = '';\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n     * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n     *\n     * For server-side management, you can disable sessions by passing a JWT through to `auth.api.signOut(JWT: string)`\n     */\n    signOut() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessToken = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token;\n            this._removeSession();\n            this._notifyAllSubscribers('SIGNED_OUT');\n            if (accessToken) {\n                const { error } = yield this.api.signOut(accessToken);\n                if (error)\n                    return { error };\n            }\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n     */\n    onAuthStateChange(callback) {\n        try {\n            const id = (0, helpers_1.uuid)();\n            const subscription = {\n                id,\n                callback,\n                unsubscribe: () => {\n                    this.stateChangeEmitters.delete(id);\n                },\n            };\n            this.stateChangeEmitters.set(id, subscription);\n            return { data: subscription, error: null };\n        }\n        catch (e) {\n            return { data: null, error: e };\n        }\n    }\n    _handleEmailSignIn(email, password, options = {}) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithEmail(email, password, {\n                    redirectTo: options.redirectTo,\n                });\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if (((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.confirmed_at) || ((_b = data === null || data === void 0 ? void 0 : data.user) === null || _b === void 0 ? void 0 : _b.email_confirmed_at)) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handlePhoneSignIn(phone, password) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithPhone(phone, password);\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if ((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.phone_confirmed_at) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handleProviderSignIn(provider, options = {}) {\n        const url = this.api.getUrlForProvider(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n        });\n        try {\n            // try to open on the browser\n            if ((0, helpers_1.isBrowser)()) {\n                window.location.href = url;\n            }\n            return { provider, url, data: null, session: null, user: null, error: null };\n        }\n        catch (e) {\n            // fallback to returning the URL\n            if (url)\n                return { provider, url, data: null, session: null, user: null, error: null };\n            return { data: null, user: null, session: null, error: e };\n        }\n    }\n    _handleOpenIDConnectSignIn({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (id_token && nonce && ((client_id && issuer) || provider)) {\n                try {\n                    const { data, error } = yield this.api.signInWithOpenIDConnect({\n                        id_token,\n                        nonce,\n                        client_id,\n                        issuer,\n                        provider,\n                    });\n                    if (error || !data)\n                        return { user: null, session: null, error };\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    return { user: data.user, session: data, error: null };\n                }\n                catch (e) {\n                    return { user: null, session: null, error: e };\n                }\n            }\n            throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`);\n        });\n    }\n    /**\n     * Attempts to get the session from LocalStorage\n     * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n     */\n    _recoverSession() {\n        var _a;\n        try {\n            const json = (0, helpers_1.isBrowser)() && ((_a = this.localStorage) === null || _a === void 0 ? void 0 : _a.getItem(constants_1.STORAGE_KEY));\n            if (!json || typeof json !== 'string') {\n                return null;\n            }\n            const data = JSON.parse(json);\n            const { currentSession, expiresAt } = data;\n            const timeNow = Math.round(Date.now() / 1000);\n            if (expiresAt >= timeNow && (currentSession === null || currentSession === void 0 ? void 0 : currentSession.user)) {\n                this._saveSession(currentSession);\n                this._notifyAllSubscribers('SIGNED_IN');\n            }\n        }\n        catch (error) {\n            console.log('error', error);\n        }\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    _recoverAndRefresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const json = (0, helpers_1.isBrowser)() && (yield this.localStorage.getItem(constants_1.STORAGE_KEY));\n                if (!json) {\n                    return null;\n                }\n                const data = JSON.parse(json);\n                const { currentSession, expiresAt } = data;\n                const timeNow = Math.round(Date.now() / 1000);\n                if (expiresAt < timeNow) {\n                    if (this.autoRefreshToken && currentSession.refresh_token) {\n                        const { error } = yield this._callRefreshToken(currentSession.refresh_token);\n                        if (error) {\n                            console.log(error.message);\n                            yield this._removeSession();\n                        }\n                    }\n                    else {\n                        this._removeSession();\n                    }\n                }\n                else if (!currentSession || !currentSession.user) {\n                    console.log('Current session is missing data.');\n                    this._removeSession();\n                }\n                else {\n                    // should be handled on _recoverSession method already\n                    // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n                    this._saveSession(currentSession);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n            }\n            catch (err) {\n                console.error(err);\n                return null;\n            }\n        });\n    }\n    _callRefreshToken(refresh_token) {\n        var _a;\n        if (refresh_token === void 0) { refresh_token = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.refresh_token; }\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error)\n                    throw error;\n                if (!data)\n                    throw Error('Invalid session data.');\n                this._saveSession(data);\n                this._notifyAllSubscribers('TOKEN_REFRESHED');\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    _notifyAllSubscribers(event) {\n        this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession));\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    _saveSession(session) {\n        this.currentSession = session;\n        this.currentUser = session.user;\n        const expiresAt = session.expires_at;\n        if (expiresAt) {\n            const timeNow = Math.round(Date.now() / 1000);\n            const expiresIn = expiresAt - timeNow;\n            const refreshDurationBeforeExpires = expiresIn > 60 ? 60 : 0.5;\n            this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n        }\n        // Do we need any extra check before persist session\n        // access_token or user ?\n        if (this.persistSession && session.expires_at) {\n            this._persistSession(this.currentSession);\n        }\n    }\n    _persistSession(currentSession) {\n        const data = { currentSession, expiresAt: currentSession.expires_at };\n        (0, helpers_1.isBrowser)() && this.localStorage.setItem(constants_1.STORAGE_KEY, JSON.stringify(data));\n    }\n    _removeSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.currentSession = null;\n            this.currentUser = null;\n            if (this.refreshTokenTimer)\n                clearTimeout(this.refreshTokenTimer);\n            (0, helpers_1.isBrowser)() && (yield this.localStorage.removeItem(constants_1.STORAGE_KEY));\n        });\n    }\n    /**\n     * Clear and re-create refresh token timer\n     * @param value time intervals in milliseconds\n     */\n    _startAutoRefreshToken(value) {\n        if (this.refreshTokenTimer)\n            clearTimeout(this.refreshTokenTimer);\n        if (value <= 0 || !this.autoRefreshToken)\n            return;\n        this.refreshTokenTimer = setTimeout(() => this._callRefreshToken(), value);\n        if (typeof this.refreshTokenTimer.unref === 'function')\n            this.refreshTokenTimer.unref();\n    }\n    /**\n     * Listens for changes to LocalStorage and updates the current session.\n     */\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !(0, helpers_1.isBrowser)() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            // console.debug('Auth multi-tab support is disabled.')\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a;\n                if (e.key === constants_1.STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    if ((_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) {\n                        this._recoverAndRefresh();\n                        this._notifyAllSubscribers('SIGNED_IN');\n                    }\n                    else {\n                        this._removeSession();\n                        this._notifyAllSubscribers('SIGNED_OUT');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n        }\n    }\n}\nexports.default = GoTrueClient;\n//# sourceMappingURL=GoTrueClient.js.map"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","GoTrueApi_1","require","helpers_1","constants_1","polyfills_1","polyfillGlobalThis","DEFAULT_OPTIONS","url","GOTRUE_URL","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","headers","DEFAULT_HEADERS","GoTrueClient","signUp","email","password","phone","options","_removeSession","data","error","api","signUpWithPhone","captchaToken","signUpWithEmail","redirectTo","session","user","access_token","_saveSession","_notifyAllSubscribers","id","signIn","refreshToken","provider","oidc","sendMagicLinkEmail","_handleEmailSignIn","sendMobileOTP","_handlePhoneSignIn","_callRefreshToken","currentUser","currentSession","_handleProviderSignIn","scopes","_handleOpenIDConnectSignIn","Error","verifyOTP","token","verifyMobileOTP","refreshSession","_a","update","attributes","updateUser","assign","setSession","refresh_token","refreshAccessToken","setAuth","token_type","getSessionFromUrl","isBrowser","error_description","getParameterByName","provider_token","expires_in","timeNow","Math","round","Date","now","expires_at","parseInt","getUser","storeSession","recoveryMode","window","location","hash","signOut","accessToken","onAuthStateChange","callback","uuid","subscription","unsubscribe","stateChangeEmitters","delete","set","_b","signInWithEmail","confirmed_at","email_confirmed_at","signInWithPhone","phone_confirmed_at","getUrlForProvider","href","id_token","nonce","client_id","issuer","signInWithOpenIDConnect","_recoverSession","json","localStorage","getItem","STORAGE_KEY","JSON","parse","expiresAt","console","log","_recoverAndRefresh","message","err","event","forEach","x","expiresIn","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","stringify","refreshTokenTimer","clearTimeout","removeItem","setTimeout","unref","_listenForMultiTabEvents","addEventListener","key","newSession","String","newValue","Map","settings","globalThis","default","cookieOptions","fetch"],"mappings":"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"}