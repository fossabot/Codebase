{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/@supabase/postgrest-js/dist/main/lib/PostgrestRpcBuilder.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nconst PostgrestFilterBuilder_1 = __importDefault(require(\"./PostgrestFilterBuilder\"));\nclass PostgrestRpcBuilder extends types_1.PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, } = {}) {\n        super({ fetch });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Perform a function call.\n     */\n    rpc(params, { head = false, count = null, } = {}) {\n        if (head) {\n            this.method = 'HEAD';\n            if (params) {\n                Object.entries(params).forEach(([name, value]) => {\n                    this.url.searchParams.append(name, value);\n                });\n            }\n        }\n        else {\n            this.method = 'POST';\n            this.body = params;\n        }\n        if (count) {\n            if (this.headers['Prefer'] !== undefined)\n                this.headers['Prefer'] += `,count=${count}`;\n            else\n                this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder_1.default(this);\n    }\n}\nexports.default = PostgrestRpcBuilder;\n//# sourceMappingURL=PostgrestRpcBuilder.js.map"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","types_1","require","PostgrestFilterBuilder_1","PostgrestRpcBuilder","PostgrestBuilder","rpc","params","head","count","method","entries","forEach","name","url","searchParams","append","body","headers","undefined","default","schema","fetch","URL","assign"],"mappings":"AAAA,CAAY;AACZ,GAAG,CAACA,eAAe,IAAI,IAAI,CAAJ,CAAI,MAAI,IAAI,CAAJ,CAAI,EAACA,eAAe,IAAK,QAAQ,CAAEC,GAAG,EAAE,CAAC;IACpE,MAAM,CAAEA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG,CAAC;QAAC,CAAS,UAAEA,GAAG;IAAC,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,CAAY,aAAE,CAAC;IAACC,KAAK,EAAE,IAAI;AAAC,CAAC;AAC5D,KAAK,CAACC,OAAO,GAAGC,OAAO,CAAC,CAAS;AACjC,KAAK,CAACC,wBAAwB,GAAGT,eAAe,CAACQ,OAAO,CAAC,CAA0B;AACnF,GAAK,CAACE,mBAAmB,SAAnBA,mBAAmB,SAASH,OAAO,CAACI,gBAAgB;IAOtD,EAEG,AAFH;;KAEG,AAFH,EAEG,CACHC,GAAG,CAACC,MAAM,EAAE,CAAC,CAACC,IAAI,EAAG,KAAK,GAAEC,KAAK,EAAG,IAAI,IAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QAC/C,EAAE,EAAED,IAAI,EAAE,CAAC;YACP,IAAI,CAACE,MAAM,GAAG,CAAM;YACpB,EAAE,EAAEH,MAAM,EAAE,CAAC;gBACTV,MAAM,CAACc,OAAO,CAACJ,MAAM,EAAEK,OAAO,GAAGC,IAAI,EAAEb,KAAK,IAAM,CAAC;oBAC/C,IAAI,CAACc,GAAG,CAACC,YAAY,CAACC,MAAM,CAACH,IAAI,EAAEb,KAAK;gBAC5C,CAAC;YACL,CAAC;QACL,CAAC,MACI,CAAC;YACF,IAAI,CAACU,MAAM,GAAG,CAAM;YACpB,IAAI,CAACO,IAAI,GAAGV,MAAM;QACtB,CAAC;QACD,EAAE,EAAEE,KAAK,EAAE,CAAC;YACR,EAAE,EAAE,IAAI,CAACS,OAAO,CAAC,CAAQ,aAAMC,SAAS,EACpC,IAAI,CAACD,OAAO,CAAC,CAAQ,aAAM,OAAO,EAAET,KAAK;iBAEzC,IAAI,CAACS,OAAO,CAAC,CAAQ,YAAK,MAAM,EAAET,KAAK;QAC/C,CAAC;QACD,MAAM,CAAC,GAAG,CAACN,wBAAwB,CAACiB,OAAO,CAAC,IAAI;IACpD,CAAC;gBA7BWN,GAAG,EAAE,CAAC,CAACI,OAAO,EAAG,CAAC,CAAC,GAAEG,MAAM,GAAEC,KAAK,IAAE,CAAC,GAAG,CAAC,CAAC,CAAE,CAAC;QACrD,KAAK,CAAC,CAAC;YAACA,KAAK;QAAC,CAAC;QACf,IAAI,CAACR,GAAG,GAAG,GAAG,CAACS,GAAG,CAACT,GAAG;QACtB,IAAI,CAACI,OAAO,GAAGrB,MAAM,CAAC2B,MAAM,CAAC,CAAC,CAAC,EAAEN,OAAO;QACxC,IAAI,CAACG,MAAM,GAAGA,MAAM;IACxB,CAAC;;AA0BLtB,OAAO,CAACqB,OAAO,GAAGhB,mBAAmB,CACrC,CAA+C,AAA/C,EAA+C,AAA/C,6CAA+C"}