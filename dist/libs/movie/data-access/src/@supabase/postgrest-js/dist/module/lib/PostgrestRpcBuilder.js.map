{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestRpcBuilder.js"],"sourcesContent":["import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, } = {}) {\n        super({ fetch });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Perform a function call.\n     */\n    rpc(params, { head = false, count = null, } = {}) {\n        if (head) {\n            this.method = 'HEAD';\n            if (params) {\n                Object.entries(params).forEach(([name, value]) => {\n                    this.url.searchParams.append(name, value);\n                });\n            }\n        }\n        else {\n            this.method = 'POST';\n            this.body = params;\n        }\n        if (count) {\n            if (this.headers['Prefer'] !== undefined)\n                this.headers['Prefer'] += `,count=${count}`;\n            else\n                this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestRpcBuilder.js.map"],"names":["PostgrestRpcBuilder","PostgrestBuilder","rpc","params","head","count","method","Object","entries","forEach","name","value","url","searchParams","append","body","headers","undefined","PostgrestFilterBuilder","schema","fetch","URL","assign"],"mappings":";;AAAiC,GAAS,CAAT,MAAS;AACP,GAA0B,CAA1B,uBAA0B;AAC9C,GAAK,CAACA,mBAAmB,SAAnBA,mBAAmB,SAASC,MAAgB;IAO7D,EAEG,AAFH;;KAEG,AAFH,EAEG,CACHC,GAAG,CAACC,MAAM,EAAE,CAAC,CAACC,IAAI,EAAG,KAAK,GAAEC,KAAK,EAAG,IAAI,IAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QAC/C,EAAE,EAAED,IAAI,EAAE,CAAC;YACP,IAAI,CAACE,MAAM,GAAG,CAAM;YACpB,EAAE,EAAEH,MAAM,EAAE,CAAC;gBACTI,MAAM,CAACC,OAAO,CAACL,MAAM,EAAEM,OAAO,GAAGC,IAAI,EAAEC,KAAK,IAAM,CAAC;oBAC/C,IAAI,CAACC,GAAG,CAACC,YAAY,CAACC,MAAM,CAACJ,IAAI,EAAEC,KAAK;gBAC5C,CAAC;YACL,CAAC;QACL,CAAC,MACI,CAAC;YACF,IAAI,CAACL,MAAM,GAAG,CAAM;YACpB,IAAI,CAACS,IAAI,GAAGZ,MAAM;QACtB,CAAC;QACD,EAAE,EAAEE,KAAK,EAAE,CAAC;YACR,EAAE,EAAE,IAAI,CAACW,OAAO,CAAC,CAAQ,aAAMC,SAAS,EACpC,IAAI,CAACD,OAAO,CAAC,CAAQ,aAAM,OAAO,EAAEX,KAAK;iBAEzC,IAAI,CAACW,OAAO,CAAC,CAAQ,YAAK,MAAM,EAAEX,KAAK;QAC/C,CAAC;QACD,MAAM,CAAC,GAAG,CAACa,uBAAsB,SAAC,IAAI;IAC1C,CAAC;gBA7BWN,GAAG,EAAE,CAAC,CAACI,OAAO,EAAG,CAAC,CAAC,GAAEG,MAAM,GAAEC,KAAK,IAAE,CAAC,GAAG,CAAC,CAAC,CAAE,CAAC;QACrD,KAAK,CAAC,CAAC;YAACA,KAAK;QAAC,CAAC;QACf,IAAI,CAACR,GAAG,GAAG,GAAG,CAACS,GAAG,CAACT,GAAG;QACtB,IAAI,CAACI,OAAO,GAAGT,MAAM,CAACe,MAAM,CAAC,CAAC,CAAC,EAAEN,OAAO;QACxC,IAAI,CAACG,MAAM,GAAGA,MAAM;IACxB,CAAC;CA0BL,CAA+C,AAA/C,EAA+C,AAA/C,6CAA+C;;kBAhC1BnB,mBAAmB"}