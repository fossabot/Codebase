{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/@supabase/supabase-js/dist/main/lib/SupabaseQueryBuilder.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SupabaseQueryBuilder = void 0;\nconst postgrest_js_1 = require(\"@supabase/postgrest-js\");\nconst SupabaseRealtimeClient_1 = require(\"./SupabaseRealtimeClient\");\nclass SupabaseQueryBuilder extends postgrest_js_1.PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, realtime, table, fetch, }) {\n        super(url, { headers, schema, fetch });\n        this._subscription = null;\n        this._realtime = realtime;\n        this._headers = headers;\n        this._schema = schema;\n        this._table = table;\n    }\n    /**\n     * Subscribe to realtime changes in your database.\n     * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n     * @param callback A callback that will handle the payload that is sent whenever your database changes.\n     */\n    on(event, callback) {\n        if (!this._realtime.isConnected()) {\n            this._realtime.connect();\n        }\n        if (!this._subscription) {\n            this._subscription = new SupabaseRealtimeClient_1.SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n        }\n        return this._subscription.on(event, callback);\n    }\n}\nexports.SupabaseQueryBuilder = SupabaseQueryBuilder;\n//# sourceMappingURL=SupabaseQueryBuilder.js.map"],"names":["Object","defineProperty","exports","value","SupabaseQueryBuilder","postgrest_js_1","require","SupabaseRealtimeClient_1","PostgrestQueryBuilder","on","event","callback","_realtime","isConnected","connect","_subscription","SupabaseRealtimeClient","_headers","_schema","_table","url","headers","schema","realtime","table","fetch"],"mappings":"AAAA,CAAY;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,CAAY,aAAE,CAAC;IAACC,KAAK,EAAE,IAAI;AAAC,CAAC;AAC5DD,OAAO,CAACE,oBAAoB,GAAG,IAAI,CAAC,CAAC;AACrC,KAAK,CAACC,cAAc,GAAGC,OAAO,CAAC,CAAwB;AACvD,KAAK,CAACC,wBAAwB,GAAGD,OAAO,CAAC,CAA0B;AACnE,GAAK,CAACF,oBAAoB,SAApBA,oBAAoB,SAASC,cAAc,CAACG,qBAAqB;IASnE,EAIG,AAJH;;;;KAIG,AAJH,EAIG,CACHC,EAAE,CAACC,KAAK,EAAEC,QAAQ,EAAE,CAAC;QACjB,EAAE,GAAG,IAAI,CAACC,SAAS,CAACC,WAAW,IAAI,CAAC;YAChC,IAAI,CAACD,SAAS,CAACE,OAAO;QAC1B,CAAC;QACD,EAAE,GAAG,IAAI,CAACC,aAAa,EAAE,CAAC;YACtB,IAAI,CAACA,aAAa,GAAG,GAAG,CAACR,wBAAwB,CAACS,sBAAsB,CAAC,IAAI,CAACJ,SAAS,EAAE,IAAI,CAACK,QAAQ,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,MAAM;QACrI,CAAC;QACD,MAAM,CAAC,IAAI,CAACJ,aAAa,CAACN,EAAE,CAACC,KAAK,EAAEC,QAAQ;IAChD,CAAC;gBArBWS,GAAG,EAAE,CAAC,CAACC,OAAO,EAAG,CAAC,CAAC,GAAEC,MAAM,GAAEC,QAAQ,GAAEC,KAAK,GAAEC,KAAK,IAAE,CAAC,CAAE,CAAC;QACjE,KAAK,CAACL,GAAG,EAAE,CAAC;YAACC,OAAO;YAAEC,MAAM;YAAEG,KAAK;QAAC,CAAC;QACrC,IAAI,CAACV,aAAa,GAAG,IAAI;QACzB,IAAI,CAACH,SAAS,GAAGW,QAAQ;QACzB,IAAI,CAACN,QAAQ,GAAGI,OAAO;QACvB,IAAI,CAACH,OAAO,GAAGI,MAAM;QACrB,IAAI,CAACH,MAAM,GAAGK,KAAK;IACvB,CAAC;;AAgBLtB,OAAO,CAACE,oBAAoB,GAAGA,oBAAoB,CACnD,CAAgD,AAAhD,EAAgD,AAAhD,8CAAgD"}