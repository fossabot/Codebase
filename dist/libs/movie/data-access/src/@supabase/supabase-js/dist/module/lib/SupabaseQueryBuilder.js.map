{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/@supabase/supabase-js/dist/module/lib/SupabaseQueryBuilder.js"],"sourcesContent":["import { PostgrestQueryBuilder } from '@supabase/postgrest-js';\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient';\nexport class SupabaseQueryBuilder extends PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, realtime, table, fetch, }) {\n        super(url, { headers, schema, fetch });\n        this._subscription = null;\n        this._realtime = realtime;\n        this._headers = headers;\n        this._schema = schema;\n        this._table = table;\n    }\n    /**\n     * Subscribe to realtime changes in your database.\n     * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n     * @param callback A callback that will handle the payload that is sent whenever your database changes.\n     */\n    on(event, callback) {\n        if (!this._realtime.isConnected()) {\n            this._realtime.connect();\n        }\n        if (!this._subscription) {\n            this._subscription = new SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n        }\n        return this._subscription.on(event, callback);\n    }\n}\n//# sourceMappingURL=SupabaseQueryBuilder.js.map"],"names":["SupabaseQueryBuilder","PostgrestQueryBuilder","on","event","callback","_realtime","isConnected","connect","_subscription","SupabaseRealtimeClient","_headers","_schema","_table","url","headers","schema","realtime","table","fetch"],"mappings":";AAAsC,GAAwB,CAAxB,YAAwB;AACvB,GAA0B,CAA1B,uBAA0B;AAC1D,GAAK,CAACA,oBAAoB,SAApBA,oBAAoB,SAASC,YAAqB;IAS3D,EAIG,AAJH;;;;KAIG,AAJH,EAIG,CACHC,EAAE,CAACC,KAAK,EAAEC,QAAQ,EAAE,CAAC;QACjB,EAAE,GAAG,IAAI,CAACC,SAAS,CAACC,WAAW,IAAI,CAAC;YAChC,IAAI,CAACD,SAAS,CAACE,OAAO;QAC1B,CAAC;QACD,EAAE,GAAG,IAAI,CAACC,aAAa,EAAE,CAAC;YACtB,IAAI,CAACA,aAAa,GAAG,GAAG,CAACC,uBAAsB,wBAAC,IAAI,CAACJ,SAAS,EAAE,IAAI,CAACK,QAAQ,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,MAAM;QAC5G,CAAC;QACD,MAAM,CAAC,IAAI,CAACJ,aAAa,CAACN,EAAE,CAACC,KAAK,EAAEC,QAAQ;IAChD,CAAC;gBArBWS,GAAG,EAAE,CAAC,CAACC,OAAO,EAAG,CAAC,CAAC,GAAEC,MAAM,GAAEC,QAAQ,GAAEC,KAAK,GAAEC,KAAK,IAAE,CAAC,CAAE,CAAC;QACjE,KAAK,CAACL,GAAG,EAAE,CAAC;YAACC,OAAO;YAAEC,MAAM;YAAEG,KAAK;QAAC,CAAC;QACrC,IAAI,CAACV,aAAa,GAAG,IAAI;QACzB,IAAI,CAACH,SAAS,GAAGW,QAAQ;QACzB,IAAI,CAACN,QAAQ,GAAGI,OAAO;QACvB,IAAI,CAACH,OAAO,GAAGI,MAAM;QACrB,IAAI,CAACH,MAAM,GAAGK,KAAK;IACvB,CAAC;CAgBL,CAAgD,AAAhD,EAAgD,AAAhD,8CAAgD;;QAxBnCjB,oBAAoB,GAApBA,oBAAoB"}