{"version":3,"sources":["../../../../../../../../../../libs/movie/data-access/node_modules/@supabase/storage-js/dist/module/lib/StorageBucketApi.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, put, remove } from './fetch';\nimport { DEFAULT_HEADERS } from './constants';\nexport class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = fetch;\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing product.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = { public: false }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data: data.name, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Updates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","StorageBucketApi","listBuckets","data","get","fetch","url","headers","error","getBucket","id","createBucket","options","public","post","name","updateBucket","put","emptyBucket","deleteBucket","remove","Object","assign","DEFAULT_HEADERS"],"mappings":"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"}