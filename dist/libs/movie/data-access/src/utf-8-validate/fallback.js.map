{"version":3,"sources":["../../../../../../libs/movie/data-access/node_modules/utf-8-validate/fallback.js"],"sourcesContent":["'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0x00) {  // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0  // overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0  // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = isValidUTF8;\n"],"names":["isValidUTF8","buf","len","length","i","module","exports"],"mappings":"AAAA,CAAY;AAEZ,EAQG,AARH;;;;;;;;CAQG,AARH,EAQG,UACMA,WAAW,CAACC,GAAG,EAAE,CAAC;IACzB,KAAK,CAACC,GAAG,GAAGD,GAAG,CAACE,MAAM;IACtB,GAAG,CAACC,CAAC,GAAG,CAAC;UAEFA,CAAC,GAAGF,GAAG,CAAE,CAAC;QACf,EAAE,GAAGD,GAAG,CAACG,CAAC,IAAI,GAAI,MAAM,CAAI,EAAE,CAAC;YAC7BA,CAAC;QACH,CAAC,MAAM,EAAE,GAAGH,GAAG,CAACG,CAAC,IAAI,GAAI,MAAM,GAAI,EAAE,CAAC;YACpC,EAAE,EACAA,CAAC,GAAG,CAAC,KAAKF,GAAG,KACZD,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,KAC3BH,GAAG,CAACG,CAAC,IAAI,GAAI,MAAM,GAAI,AAAE,CAAW,AAAX,EAAW,AAAX,SAAW;cACrC,CAAC;gBACD,MAAM,CAAC,KAAK;YACd,CAAC;YAEDA,CAAC,IAAI,CAAC;QACR,CAAC,MAAM,EAAE,GAAGH,GAAG,CAACG,CAAC,IAAI,GAAI,MAAM,GAAI,EAAE,CAAC;YACpC,EAAE,EACAA,CAAC,GAAG,CAAC,IAAIF,GAAG,KACXD,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,KAC3BH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,IAC5BH,GAAG,CAACG,CAAC,MAAM,GAAI,KAAKH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,IAC/CH,GAAG,CAACG,CAAC,MAAM,GAAI,KAAKH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,AAAE,CAA8B,AAA9B,EAA8B,AAA9B,4BAA8B;cAC/E,CAAC;gBACD,MAAM,CAAC,KAAK;YACd,CAAC;YAEDA,CAAC,IAAI,CAAC;QACR,CAAC,MAAM,EAAE,GAAGH,GAAG,CAACG,CAAC,IAAI,GAAI,MAAM,GAAI,EAAE,CAAC;YACpC,EAAE,EACAA,CAAC,GAAG,CAAC,IAAIF,GAAG,KACXD,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,KAC3BH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,KAC3BH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,IAC5BH,GAAG,CAACG,CAAC,MAAM,GAAI,KAAKH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,MAAM,GAAI,IAC/CH,GAAG,CAACG,CAAC,MAAM,GAAI,IAAIH,GAAG,CAACG,CAAC,GAAG,CAAC,IAAI,GAAI,IAAIH,GAAG,CAACG,CAAC,IAAI,GAAI,AAAE,CAAa,AAAb,EAAa,AAAb,WAAa;cACpE,CAAC;gBACD,MAAM,CAAC,KAAK;YACd,CAAC;YAEDA,CAAC,IAAI,CAAC;QACR,CAAC,MAAM,CAAC;YACN,MAAM,CAAC,KAAK;QACd,CAAC;IACH,CAAC;IAED,MAAM,CAAC,IAAI;AACb,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGN,WAAW"}