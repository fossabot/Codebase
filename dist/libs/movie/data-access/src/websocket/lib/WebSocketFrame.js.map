{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/websocket/lib/WebSocketFrame.js"],"sourcesContent":["/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar bufferUtil = require('bufferutil');\nvar bufferAllocUnsafe = require('./utils').bufferAllocUnsafe;\n\nconst DECODE_HEADER = 1;\nconst WAITING_FOR_16_BIT_LENGTH = 2;\nconst WAITING_FOR_64_BIT_LENGTH = 3;\nconst WAITING_FOR_MASK_KEY = 4;\nconst WAITING_FOR_PAYLOAD = 5;\nconst COMPLETE = 6;\n\n// WebSocketConnection will pass shared buffer objects for maskBytes and\n// frameHeader into the constructor to avoid tons of small memory allocations\n// for each frame we have to parse.  This is only used for parsing frames\n// we receive off the wire.\nfunction WebSocketFrame(maskBytes, frameHeader, config) {\n    this.maskBytes = maskBytes;\n    this.frameHeader = frameHeader;\n    this.config = config;\n    this.maxReceivedFrameSize = config.maxReceivedFrameSize;\n    this.protocolError = false;\n    this.frameTooLarge = false;\n    this.invalidCloseFrameLength = false;\n    this.parseState = DECODE_HEADER;\n    this.closeStatus = -1;\n}\n\nWebSocketFrame.prototype.addData = function(bufferList) {\n    if (this.parseState === DECODE_HEADER) {\n        if (bufferList.length >= 2) {\n            bufferList.joinInto(this.frameHeader, 0, 0, 2);\n            bufferList.advance(2);\n            var firstByte = this.frameHeader[0];\n            var secondByte = this.frameHeader[1];\n\n            this.fin     = Boolean(firstByte  & 0x80);\n            this.rsv1    = Boolean(firstByte  & 0x40);\n            this.rsv2    = Boolean(firstByte  & 0x20);\n            this.rsv3    = Boolean(firstByte  & 0x10);\n            this.mask    = Boolean(secondByte & 0x80);\n\n            this.opcode  = firstByte  & 0x0F;\n            this.length = secondByte & 0x7F;\n\n            // Control frame sanity check\n            if (this.opcode >= 0x08) {\n                if (this.length > 125) {\n                    this.protocolError = true;\n                    this.dropReason = 'Illegal control frame longer than 125 bytes.';\n                    return true;\n                }\n                if (!this.fin) {\n                    this.protocolError = true;\n                    this.dropReason = 'Control frames must not be fragmented.';\n                    return true;\n                }\n            }\n\n            if (this.length === 126) {\n                this.parseState = WAITING_FOR_16_BIT_LENGTH;\n            }\n            else if (this.length === 127) {\n                this.parseState = WAITING_FOR_64_BIT_LENGTH;\n            }\n            else {\n                this.parseState = WAITING_FOR_MASK_KEY;\n            }\n        }\n    }\n    if (this.parseState === WAITING_FOR_16_BIT_LENGTH) {\n        if (bufferList.length >= 2) {\n            bufferList.joinInto(this.frameHeader, 2, 0, 2);\n            bufferList.advance(2);\n            this.length = this.frameHeader.readUInt16BE(2);\n            this.parseState = WAITING_FOR_MASK_KEY;\n        }\n    }\n    else if (this.parseState === WAITING_FOR_64_BIT_LENGTH) {\n        if (bufferList.length >= 8) {\n            bufferList.joinInto(this.frameHeader, 2, 0, 8);\n            bufferList.advance(8);\n            var lengthPair = [\n              this.frameHeader.readUInt32BE(2),\n              this.frameHeader.readUInt32BE(2+4)\n            ];\n\n            if (lengthPair[0] !== 0) {\n                this.protocolError = true;\n                this.dropReason = 'Unsupported 64-bit length frame received';\n                return true;\n            }\n            this.length = lengthPair[1];\n            this.parseState = WAITING_FOR_MASK_KEY;\n        }\n    }\n\n    if (this.parseState === WAITING_FOR_MASK_KEY) {\n        if (this.mask) {\n            if (bufferList.length >= 4) {\n                bufferList.joinInto(this.maskBytes, 0, 0, 4);\n                bufferList.advance(4);\n                this.parseState = WAITING_FOR_PAYLOAD;\n            }\n        }\n        else {\n            this.parseState = WAITING_FOR_PAYLOAD;\n        }\n    }\n\n    if (this.parseState === WAITING_FOR_PAYLOAD) {\n        if (this.length > this.maxReceivedFrameSize) {\n            this.frameTooLarge = true;\n            this.dropReason = 'Frame size of ' + this.length.toString(10) +\n                              ' bytes exceeds maximum accepted frame size';\n            return true;\n        }\n\n        if (this.length === 0) {\n            this.binaryPayload = bufferAllocUnsafe(0);\n            this.parseState = COMPLETE;\n            return true;\n        }\n        if (bufferList.length >= this.length) {\n            this.binaryPayload = bufferList.take(this.length);\n            bufferList.advance(this.length);\n            if (this.mask) {\n                bufferUtil.unmask(this.binaryPayload, this.maskBytes);\n                // xor(this.binaryPayload, this.maskBytes, 0);\n            }\n\n            if (this.opcode === 0x08) { // WebSocketOpcode.CONNECTION_CLOSE\n                if (this.length === 1) {\n                    // Invalid length for a close frame.  Must be zero or at least two.\n                    this.binaryPayload = bufferAllocUnsafe(0);\n                    this.invalidCloseFrameLength = true;\n                }\n                if (this.length >= 2) {\n                    this.closeStatus = this.binaryPayload.readUInt16BE(0);\n                    this.binaryPayload = this.binaryPayload.slice(2);\n                }\n            }\n\n            this.parseState = COMPLETE;\n            return true;\n        }\n    }\n    return false;\n};\n\nWebSocketFrame.prototype.throwAwayPayload = function(bufferList) {\n    if (bufferList.length >= this.length) {\n        bufferList.advance(this.length);\n        this.parseState = COMPLETE;\n        return true;\n    }\n    return false;\n};\n\nWebSocketFrame.prototype.toBuffer = function(nullMask) {\n    var maskKey;\n    var headerLength = 2;\n    var data;\n    var outputPos;\n    var firstByte = 0x00;\n    var secondByte = 0x00;\n\n    if (this.fin) {\n        firstByte |= 0x80;\n    }\n    if (this.rsv1) {\n        firstByte |= 0x40;\n    }\n    if (this.rsv2) {\n        firstByte |= 0x20;\n    }\n    if (this.rsv3) {\n        firstByte |= 0x10;\n    }\n    if (this.mask) {\n        secondByte |= 0x80;\n    }\n\n    firstByte |= (this.opcode & 0x0F);\n\n    // the close frame is a special case because the close reason is\n    // prepended to the payload data.\n    if (this.opcode === 0x08) {\n        this.length = 2;\n        if (this.binaryPayload) {\n            this.length += this.binaryPayload.length;\n        }\n        data = bufferAllocUnsafe(this.length);\n        data.writeUInt16BE(this.closeStatus, 0);\n        if (this.length > 2) {\n            this.binaryPayload.copy(data, 2);\n        }\n    }\n    else if (this.binaryPayload) {\n        data = this.binaryPayload;\n        this.length = data.length;\n    }\n    else {\n        this.length = 0;\n    }\n\n    if (this.length <= 125) {\n        // encode the length directly into the two-byte frame header\n        secondByte |= (this.length & 0x7F);\n    }\n    else if (this.length > 125 && this.length <= 0xFFFF) {\n        // Use 16-bit length\n        secondByte |= 126;\n        headerLength += 2;\n    }\n    else if (this.length > 0xFFFF) {\n        // Use 64-bit length\n        secondByte |= 127;\n        headerLength += 8;\n    }\n\n    var output = bufferAllocUnsafe(this.length + headerLength + (this.mask ? 4 : 0));\n\n    // write the frame header\n    output[0] = firstByte;\n    output[1] = secondByte;\n\n    outputPos = 2;\n\n    if (this.length > 125 && this.length <= 0xFFFF) {\n        // write 16-bit length\n        output.writeUInt16BE(this.length, outputPos);\n        outputPos += 2;\n    }\n    else if (this.length > 0xFFFF) {\n        // write 64-bit length\n        output.writeUInt32BE(0x00000000, outputPos);\n        output.writeUInt32BE(this.length, outputPos + 4);\n        outputPos += 8;\n    }\n\n    if (this.mask) {\n        maskKey = nullMask ? 0 : ((Math.random() * 0xFFFFFFFF) >>> 0);\n        this.maskBytes.writeUInt32BE(maskKey, 0);\n\n        // write the mask key\n        this.maskBytes.copy(output, outputPos);\n        outputPos += 4;\n\n        if (data) {\n          bufferUtil.mask(data, this.maskBytes, output, outputPos, this.length);\n        }\n    }\n    else if (data) {\n        data.copy(output, outputPos);\n    }\n\n    return output;\n};\n\nWebSocketFrame.prototype.toString = function() {\n    return 'Opcode: ' + this.opcode + ', fin: ' + this.fin + ', length: ' + this.length + ', hasPayload: ' + Boolean(this.binaryPayload) + ', masked: ' + this.mask;\n};\n\n\nmodule.exports = WebSocketFrame;\n"],"names":["bufferUtil","require","bufferAllocUnsafe","DECODE_HEADER","WAITING_FOR_16_BIT_LENGTH","WAITING_FOR_64_BIT_LENGTH","WAITING_FOR_MASK_KEY","WAITING_FOR_PAYLOAD","COMPLETE","WebSocketFrame","maskBytes","frameHeader","config","maxReceivedFrameSize","protocolError","frameTooLarge","invalidCloseFrameLength","parseState","closeStatus","prototype","addData","bufferList","length","joinInto","advance","firstByte","secondByte","fin","Boolean","rsv1","rsv2","rsv3","mask","opcode","dropReason","readUInt16BE","lengthPair","readUInt32BE","toString","binaryPayload","take","unmask","slice","throwAwayPayload","toBuffer","nullMask","maskKey","headerLength","data","outputPos","writeUInt16BE","copy","output","writeUInt32BE","Math","random","module","exports"],"mappings":"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"}