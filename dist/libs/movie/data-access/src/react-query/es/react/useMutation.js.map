{"version":3,"sources":["../../../../../../../../libs/movie/data-access/node_modules/react-query/es/react/useMutation.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { noop, parseMutationArgs } from '../core/utils';\nimport { MutationObserver } from '../core/mutationObserver';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils'; // HOOK\n\nexport function useMutation(arg1, arg2, arg3) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var options = parseMutationArgs(arg1, arg2, arg3);\n  var queryClient = useQueryClient();\n  var obsRef = React.useRef();\n\n  if (!obsRef.current) {\n    obsRef.current = new MutationObserver(queryClient, options);\n  } else {\n    obsRef.current.setOptions(options);\n  }\n\n  var currentResult = obsRef.current.getCurrentResult();\n  React.useEffect(function () {\n    mountedRef.current = true;\n    var unsubscribe = obsRef.current.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    }));\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, []);\n  var mutate = React.useCallback(function (variables, mutateOptions) {\n    obsRef.current.mutate(variables, mutateOptions).catch(noop);\n  }, []);\n\n  if (currentResult.error && shouldThrowError(undefined, obsRef.current.options.useErrorBoundary, currentResult.error)) {\n    throw currentResult.error;\n  }\n\n  return _extends({}, currentResult, {\n    mutate: mutate,\n    mutateAsync: currentResult.mutate\n  });\n}"],"names":["useMutation","arg1","arg2","arg3","mountedRef","React","useRef","_React$useState","useState","forceUpdate","options","parseMutationArgs","queryClient","useQueryClient","obsRef","current","MutationObserver","setOptions","currentResult","getCurrentResult","useEffect","unsubscribe","subscribe","notifyManager","batchCalls","x","mutate","useCallback","variables","mutateOptions","catch","noop","error","shouldThrowError","undefined","useErrorBoundary","_extends","mutateAsync"],"mappings":";QAQgBA,WAAW,GAAXA,WAAW;AARN,GAAoC,CAApC,QAAoC;AACvC,GAAO,CAAP,MAAO;AACK,GAAuB,CAAvB,cAAuB;AACb,GAAe,CAAf,MAAe;AACtB,GAA0B,CAA1B,iBAA0B;AAC5B,GAAuB,CAAvB,oBAAuB;AACrB,GAAS,CAAT,OAAS;SAE1BA,WAAW,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAE,CAAC;IAC7C,GAAG,CAACC,UAAU,GAAGC,MAAK,SAACC,MAAM,CAAC,KAAK;IAEnC,GAAG,CAACC,eAAe,GAAGF,MAAK,SAACG,QAAQ,CAAC,CAAC,GAClCC,WAAW,GAAGF,eAAe,CAAC,CAAC;IAEnC,GAAG,CAACG,OAAO,OAAGC,MAAiB,oBAACV,IAAI,EAAEC,IAAI,EAAEC,IAAI;IAChD,GAAG,CAACS,WAAW,OAAGC,oBAAc;IAChC,GAAG,CAACC,MAAM,GAAGT,MAAK,SAACC,MAAM;IAEzB,EAAE,GAAGQ,MAAM,CAACC,OAAO,EAAE,CAAC;QACpBD,MAAM,CAACC,OAAO,GAAG,GAAG,CAACC,iBAAgB,kBAACJ,WAAW,EAAEF,OAAO;IAC5D,CAAC,MAAM,CAAC;QACNI,MAAM,CAACC,OAAO,CAACE,UAAU,CAACP,OAAO;IACnC,CAAC;IAED,GAAG,CAACQ,aAAa,GAAGJ,MAAM,CAACC,OAAO,CAACI,gBAAgB;IACnDd,MAAK,SAACe,SAAS,CAAC,QAAQ,GAAI,CAAC;QAC3BhB,UAAU,CAACW,OAAO,GAAG,IAAI;QACzB,GAAG,CAACM,WAAW,GAAGP,MAAM,CAACC,OAAO,CAACO,SAAS,CAACC,cAAa,eAACC,UAAU,CAAC,QAAQ,GAAI,CAAC;YAC/E,EAAE,EAAEpB,UAAU,CAACW,OAAO,EAAE,CAAC;gBACvBN,WAAW,CAAC,QAAQ,CAAEgB,CAAC,EAAE,CAAC;oBACxB,MAAM,CAACA,CAAC,GAAG,CAAC;gBACd,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,QAAQ,GAAI,CAAC;YAClBrB,UAAU,CAACW,OAAO,GAAG,KAAK;YAC1BM,WAAW;QACb,CAAC;IACH,CAAC,EAAE,CAAC,CAAC;IACL,GAAG,CAACK,MAAM,GAAGrB,MAAK,SAACsB,WAAW,CAAC,QAAQ,CAAEC,SAAS,EAAEC,aAAa,EAAE,CAAC;QAClEf,MAAM,CAACC,OAAO,CAACW,MAAM,CAACE,SAAS,EAAEC,aAAa,EAAEC,KAAK,CAACC,MAAI;IAC5D,CAAC,EAAE,CAAC,CAAC;IAEL,EAAE,EAAEb,aAAa,CAACc,KAAK,QAAIC,OAAgB,mBAACC,SAAS,EAAEpB,MAAM,CAACC,OAAO,CAACL,OAAO,CAACyB,gBAAgB,EAAEjB,aAAa,CAACc,KAAK,GAAG,CAAC;QACrH,KAAK,CAACd,aAAa,CAACc,KAAK;IAC3B,CAAC;IAED,MAAM,KAACI,QAAQ,UAAC,CAAC,CAAC,EAAElB,aAAa,EAAE,CAAC;QAClCQ,MAAM,EAAEA,MAAM;QACdW,WAAW,EAAEnB,aAAa,CAACQ,MAAM;IACnC,CAAC;AACH,CAAC"}