{"version":3,"sources":["../../../../../../../libs/movie/data-access/node_modules/react-query/dist/createAsyncStoragePersistor-experimental.development.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.ReactQueryCreateAsyncStoragePersistorExperimental = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _await(value, then, direct) {\n    if (direct) {\n      return then ? then(value) : value;\n    }\n\n    if (!value || !value.then) {\n      value = Promise.resolve(value);\n    }\n\n    return then ? value.then(then) : value;\n  }\n\n  function _async(f) {\n    return function () {\n      for (var args = [], i = 0; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n\n      try {\n        return Promise.resolve(f.apply(this, args));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    };\n  }\n\n  function _empty() {}\n\n  function _invokeIgnored(body) {\n    var result = body();\n\n    if (result && result.then) {\n      return result.then(_empty);\n    }\n  }\n\n  var createAsyncStoragePersistor = function createAsyncStoragePersistor(_ref) {\n    var storage = _ref.storage,\n        _ref$key = _ref.key,\n        key = _ref$key === void 0 ? \"REACT_QUERY_OFFLINE_CACHE\" : _ref$key,\n        _ref$throttleTime = _ref.throttleTime,\n        throttleTime = _ref$throttleTime === void 0 ? 1000 : _ref$throttleTime,\n        _ref$serialize = _ref.serialize,\n        serialize = _ref$serialize === void 0 ? JSON.stringify : _ref$serialize,\n        _ref$deserialize = _ref.deserialize,\n        deserialize = _ref$deserialize === void 0 ? JSON.parse : _ref$deserialize;\n    return {\n      persistClient: asyncThrottle(function (persistedClient) {\n        return storage.setItem(key, serialize(persistedClient));\n      }, {\n        interval: throttleTime\n      }),\n      restoreClient: _async(function () {\n        return _await(storage.getItem(key), function (cacheString) {\n          if (!cacheString) {\n            return;\n          }\n\n          return deserialize(cacheString);\n        });\n      }),\n      removeClient: function removeClient() {\n        return storage.removeItem(key);\n      }\n    };\n  };\n\n  function asyncThrottle(func, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$interval = _ref2.interval,\n        interval = _ref2$interval === void 0 ? 1000 : _ref2$interval,\n        _ref2$limit = _ref2.limit,\n        limit = _ref2$limit === void 0 ? 1 : _ref2$limit;\n\n    if (typeof func !== 'function') throw new Error('argument is not function.');\n    var running = {\n      current: false\n    };\n    var lastTime = 0;\n    var timeout;\n    var queue = [];\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _async(function () {\n        if (running.current) {\n          lastTime = Date.now();\n\n          if (queue.length > limit) {\n            queue.shift();\n          }\n\n          queue.push(args);\n          clearTimeout(timeout);\n        }\n\n        return _invokeIgnored(function () {\n          if (Date.now() - lastTime > interval) {\n            running.current = true;\n            return _await(func.apply(void 0, args), function () {\n              lastTime = Date.now();\n              running.current = false;\n            });\n          } else {\n            if (queue.length > 0) {\n              var lastArgs = queue[queue.length - 1];\n              timeout = setTimeout(_async(function () {\n                return _invokeIgnored(function () {\n                  if (!running.current) {\n                    running.current = true;\n                    return _await(func.apply(void 0, lastArgs), function () {\n                      running.current = false;\n                    });\n                  }\n                });\n              }), interval);\n            }\n          }\n        });\n      })();\n    };\n  }\n\n  exports.createAsyncStoragePersistor = createAsyncStoragePersistor;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=createAsyncStoragePersistor-experimental.development.js.map\n"],"names":["global","factory","exports","module","define","amd","self","ReactQueryCreateAsyncStoragePersistorExperimental","_await","value","then","direct","Promise","resolve","_async","f","args","i","arguments","length","apply","e","reject","_empty","_invokeIgnored","body","result","createAsyncStoragePersistor","_ref","storage","_ref$key","key","_ref$throttleTime","throttleTime","_ref$serialize","serialize","JSON","stringify","_ref$deserialize","deserialize","parse","persistClient","asyncThrottle","persistedClient","setItem","interval","restoreClient","getItem","cacheString","removeClient","removeItem","func","_temp","_ref2","_ref2$interval","_ref2$limit","limit","Error","running","current","lastTime","timeout","queue","_len","Array","_key","Date","now","shift","push","clearTimeout","lastArgs","setTimeout","Object","defineProperty"],"mappings":";CAAC,QAAQ,CAAEA,MAAM,EAAEC,OAAO,EAAE,CAAC;IAC3B,MAAM,CAACC,OAAO,KAAK,CAAQ,WAAI,MAAM,CAACC,MAAM,KAAK,CAAW,aAAGF,OAAO,CAACC,OAAO,IAC9E,MAAM,CAACE,MAAM,KAAK,CAAU,aAAIA,MAAM,CAACC,GAAG,GAAGD,MAAM,CAAC,CAAC;QAAA,CAAS;IAAA,CAAC,EAAEH,OAAO,KACvED,MAAM,GAAGA,MAAM,IAAIM,IAAI,EAAEL,OAAO,CAACD,MAAM,CAACO,iDAAiD,GAAG,CAAC,CAAC;AACjG,CAAC,EAAC,IAAI,CAAJ,CAAI,EAAG,QAAQ,CAAEL,OAAO,EAAE,CAAC;IAAC,CAAY;aAE/BM,MAAM,CAACC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAE,CAAC;QACpC,EAAE,EAAEA,MAAM,EAAE,CAAC;YACX,MAAM,CAACD,IAAI,GAAGA,IAAI,CAACD,KAAK,IAAIA,KAAK;QACnC,CAAC;QAED,EAAE,GAAGA,KAAK,KAAKA,KAAK,CAACC,IAAI,EAAE,CAAC;YAC1BD,KAAK,GAAGG,OAAO,CAACC,OAAO,CAACJ,KAAK;QAC/B,CAAC;QAED,MAAM,CAACC,IAAI,GAAGD,KAAK,CAACC,IAAI,CAACA,IAAI,IAAID,KAAK;IACxC,CAAC;aAEQK,MAAM,CAACC,CAAC,EAAE,CAAC;QAClB,MAAM,CAAC,QAAQ,GAAI,CAAC;YAClB,GAAG,CAAE,GAAG,CAACC,IAAI,GAAG,CAAC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,GAAI,CAAC;gBACrDD,IAAI,CAACC,CAAC,IAAIC,SAAS,CAACD,CAAC;YACvB,CAAC;YAED,GAAG,CAAC,CAAC;gBACH,MAAM,CAACL,OAAO,CAACC,OAAO,CAACE,CAAC,CAACK,KAAK,CAAC,IAAI,EAAEJ,IAAI;YAC3C,CAAC,CAAC,KAAK,EAAEK,CAAC,EAAE,CAAC;gBACX,MAAM,CAACT,OAAO,CAACU,MAAM,CAACD,CAAC;YACzB,CAAC;QACH,CAAC;IACH,CAAC;aAEQE,MAAM,GAAG,CAAC,CAAC;aAEXC,cAAc,CAACC,IAAI,EAAE,CAAC;QAC7B,GAAG,CAACC,MAAM,GAAGD,IAAI;QAEjB,EAAE,EAAEC,MAAM,IAAIA,MAAM,CAAChB,IAAI,EAAE,CAAC;YAC1B,MAAM,CAACgB,MAAM,CAAChB,IAAI,CAACa,MAAM;QAC3B,CAAC;IACH,CAAC;IAED,GAAG,CAACI,2BAA2B,GAAG,QAAQ,CAACA,2BAA2B,CAACC,IAAI,EAAE,CAAC;QAC5E,GAAG,CAACC,OAAO,GAAGD,IAAI,CAACC,OAAO,EACtBC,QAAQ,GAAGF,IAAI,CAACG,GAAG,EACnBA,GAAG,GAAGD,QAAQ,KAAK,IAAI,CAAC,CAAC,GAAG,CAA2B,6BAAGA,QAAQ,EAClEE,iBAAiB,GAAGJ,IAAI,CAACK,YAAY,EACrCA,YAAY,GAAGD,iBAAiB,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,GAAGA,iBAAiB,EACtEE,cAAc,GAAGN,IAAI,CAACO,SAAS,EAC/BA,SAAS,GAAGD,cAAc,KAAK,IAAI,CAAC,CAAC,GAAGE,IAAI,CAACC,SAAS,GAAGH,cAAc,EACvEI,gBAAgB,GAAGV,IAAI,CAACW,WAAW,EACnCA,WAAW,GAAGD,gBAAgB,KAAK,IAAI,CAAC,CAAC,GAAGF,IAAI,CAACI,KAAK,GAAGF,gBAAgB;QAC7E,MAAM,CAAC,CAAC;YACNG,aAAa,EAAEC,aAAa,CAAC,QAAQ,CAAEC,eAAe,EAAE,CAAC;gBACvD,MAAM,CAACd,OAAO,CAACe,OAAO,CAACb,GAAG,EAAEI,SAAS,CAACQ,eAAe;YACvD,CAAC,EAAE,CAAC;gBACFE,QAAQ,EAAEZ,YAAY;YACxB,CAAC;YACDa,aAAa,EAAEhC,MAAM,CAAC,QAAQ,GAAI,CAAC;gBACjC,MAAM,CAACN,MAAM,CAACqB,OAAO,CAACkB,OAAO,CAAChB,GAAG,GAAG,QAAQ,CAAEiB,WAAW,EAAE,CAAC;oBAC1D,EAAE,GAAGA,WAAW,EAAE,CAAC;wBACjB,MAAM;oBACR,CAAC;oBAED,MAAM,CAACT,WAAW,CAACS,WAAW;gBAChC,CAAC;YACH,CAAC;YACDC,YAAY,EAAE,QAAQ,CAACA,YAAY,GAAG,CAAC;gBACrC,MAAM,CAACpB,OAAO,CAACqB,UAAU,CAACnB,GAAG;YAC/B,CAAC;QACH,CAAC;IACH,CAAC;aAEQW,aAAa,CAACS,IAAI,EAAEC,KAAK,EAAE,CAAC;QACnC,GAAG,CAACC,KAAK,GAAGD,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGA,KAAK,EACrCE,cAAc,GAAGD,KAAK,CAACR,QAAQ,EAC/BA,QAAQ,GAAGS,cAAc,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,GAAGA,cAAc,EAC5DC,WAAW,GAAGF,KAAK,CAACG,KAAK,EACzBA,KAAK,GAAGD,WAAW,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,GAAGA,WAAW;QAEpD,EAAE,EAAE,MAAM,CAACJ,IAAI,KAAK,CAAU,WAAE,KAAK,CAAC,GAAG,CAACM,KAAK,CAAC,CAA2B;QAC3E,GAAG,CAACC,OAAO,GAAG,CAAC;YACbC,OAAO,EAAE,KAAK;QAChB,CAAC;QACD,GAAG,CAACC,QAAQ,GAAG,CAAC;QAChB,GAAG,CAACC,OAAO;QACX,GAAG,CAACC,KAAK,GAAG,CAAC,CAAC;QACd,MAAM,CAAC,QAAQ,GAAI,CAAC;YAClB,GAAG,CAAE,GAAG,CAACC,IAAI,GAAG7C,SAAS,CAACC,MAAM,EAAEH,IAAI,GAAG,GAAG,CAACgD,KAAK,CAACD,IAAI,GAAGE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,GAAI,CAAC;gBACxFjD,IAAI,CAACiD,IAAI,IAAI/C,SAAS,CAAC+C,IAAI;YAC7B,CAAC;YAED,MAAM,CAACnD,MAAM,CAAC,QAAQ,GAAI,CAAC;gBACzB,EAAE,EAAE4C,OAAO,CAACC,OAAO,EAAE,CAAC;oBACpBC,QAAQ,GAAGM,IAAI,CAACC,GAAG;oBAEnB,EAAE,EAAEL,KAAK,CAAC3C,MAAM,GAAGqC,KAAK,EAAE,CAAC;wBACzBM,KAAK,CAACM,KAAK;oBACb,CAAC;oBAEDN,KAAK,CAACO,IAAI,CAACrD,IAAI;oBACfsD,YAAY,CAACT,OAAO;gBACtB,CAAC;gBAED,MAAM,CAACrC,cAAc,CAAC,QAAQ,GAAI,CAAC;oBACjC,EAAE,EAAE0C,IAAI,CAACC,GAAG,KAAKP,QAAQ,GAAGf,QAAQ,EAAE,CAAC;wBACrCa,OAAO,CAACC,OAAO,GAAG,IAAI;wBACtB,MAAM,CAACnD,MAAM,CAAC2C,IAAI,CAAC/B,KAAK,CAAC,IAAI,CAAC,CAAC,EAAEJ,IAAI,GAAG,QAAQ,GAAI,CAAC;4BACnD4C,QAAQ,GAAGM,IAAI,CAACC,GAAG;4BACnBT,OAAO,CAACC,OAAO,GAAG,KAAK;wBACzB,CAAC;oBACH,CAAC,MAAM,CAAC;wBACN,EAAE,EAAEG,KAAK,CAAC3C,MAAM,GAAG,CAAC,EAAE,CAAC;4BACrB,GAAG,CAACoD,QAAQ,GAAGT,KAAK,CAACA,KAAK,CAAC3C,MAAM,GAAG,CAAC;4BACrC0C,OAAO,GAAGW,UAAU,CAAC1D,MAAM,CAAC,QAAQ,GAAI,CAAC;gCACvC,MAAM,CAACU,cAAc,CAAC,QAAQ,GAAI,CAAC;oCACjC,EAAE,GAAGkC,OAAO,CAACC,OAAO,EAAE,CAAC;wCACrBD,OAAO,CAACC,OAAO,GAAG,IAAI;wCACtB,MAAM,CAACnD,MAAM,CAAC2C,IAAI,CAAC/B,KAAK,CAAC,IAAI,CAAC,CAAC,EAAEmD,QAAQ,GAAG,QAAQ,GAAI,CAAC;4CACvDb,OAAO,CAACC,OAAO,GAAG,KAAK;wCACzB,CAAC;oCACH,CAAC;gCACH,CAAC;4BACH,CAAC,GAAGd,QAAQ;wBACd,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED3C,OAAO,CAACyB,2BAA2B,GAAGA,2BAA2B;IAEjE8C,MAAM,CAACC,cAAc,CAACxE,OAAO,EAAE,CAAY,aAAE,CAAC;QAACO,KAAK,EAAE,IAAI;IAAC,CAAC;AAE9D,CAAC,EACD,CAAgF,AAAhF,EAAgF,AAAhF,8EAAgF"}