"use strict";
!function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define([
        "exports"
    ], e) : e((t = t || self).ReactQueryCreateWebStoragePersistorExperimental = {});
}(void 0, function(t1) {
    "use strict";
    function e1() {
        return (e1 = Object.assign || function(t) {
            for(var e = 1; e < arguments.length; e++){
                var r = arguments[e];
                for(var n in r)Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]);
            }
            return t;
        }).apply(this, arguments);
    }
    function r1() {}
    function n1(t, e) {
        void 0 === e && (e = 100);
        var r, n = null;
        return function() {
            for(var i = arguments.length, o = new Array(i), a = 0; a < i; a++)o[a] = arguments[a];
            r = o, null === n && (n = setTimeout(function() {
                t.apply(void 0, r), n = null;
            }, e));
        };
    }
    t1.createWebStoragePersistor = function(t2) {
        var i1 = t2.storage, o1 = t2.key, a1 = void 0 === o1 ? "REACT_QUERY_OFFLINE_CACHE" : o1, u1 = t2.throttleTime, f = void 0 === u1 ? 1000 : u1, s = t2.serialize, c = void 0 === s ? JSON.stringify : s, l = t2.deserialize, d = void 0 === l ? JSON.parse : l;
        function v(t) {
            try {
                i1.setItem(a1, c(t));
            } catch (t3) {
                return !1;
            }
            return !0;
        }
        return void 0 !== i1 ? {
            persistClient: n1(function(t4) {
                if (!0 !== v(t4)) {
                    for(var r = [].concat(t4.clientState.mutations), n = [].concat(t4.clientState.queries), i = e1({}, t4, {
                        clientState: {
                            mutations: r,
                            queries: n
                        }
                    }), o = [].concat(n).sort(function(t, e) {
                        return t.state.dataUpdatedAt - e.state.dataUpdatedAt;
                    }), a = function() {
                        var t = o.shift();
                        if (i.clientState.queries = n.filter(function(e) {
                            return e !== t;
                        }), v(i)) return {
                            v: void 0
                        };
                    }; o.length > 0;){
                        var u = a();
                        if ("object" == typeof u) return u.v;
                    }
                    for(; r.shift();)if (v(i)) return;
                }
            }, f),
            restoreClient: function() {
                var t = i1.getItem(a1);
                if (t) return d(t);
            },
            removeClient: function() {
                i1.removeItem(a1);
            }
        } : {
            persistClient: r1,
            restoreClient: r1,
            removeClient: r1
        };
    }, Object.defineProperty(t1, "__esModule", {
        value: !0
    });
}); //# sourceMappingURL=createWebStoragePersistor-experimental.production.min.js.map

//# sourceMappingURL=createWebStoragePersistor-experimental.production.min.js.map